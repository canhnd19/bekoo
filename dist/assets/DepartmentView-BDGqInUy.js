import{a as S,b as Q,c as Y,d as X,p as j,E as F,_ as H}from"./BasePopup-0z7mCBbB.js";import{d as $,H as q,I as Z,o as x,c as C,q as d,m as r,a as i,F as B,p as O,n as ee,t as E,_ as P,v as z,x as g,l as I,A as V,f as e,J as M,E as R,D,G as te,y as G,K as N,e as ae,L as ne}from"./index-CEt8ap1D.js";import{E as se}from"./el-scrollbar-D3HEHJcV.js";import{_ as oe}from"./BaseIcon.vue_vue_type_script_setup_true_lang-2KUpWumk.js";import"./el-select-EhrHRoGi.js";import{_ as h}from"./BaseButton-BiZZtvq_.js";import{_ as K}from"./BaseInput-D6JdsdLB.js";import{D as W}from"./index-Dh1zF_J0.js";import{E as J}from"./el-input-BFDgVOhq.js";import"./el-popper-iFOlLOCr.js";import"./use-form-item-CmQ7KHzz.js";import"./refs-3EpWAYDS.js";import"./castArray-C8upieRi.js";const le={class:"base-tab"},de={class:"flex"},pe=["onClick"],ie=$({__name:"BaseTab",props:q({tabs:{default:()=>[]},isFullWidth:{type:Boolean,default:!1}},{modelValue:{required:!0,default:""},modelModifiers:{}}),emits:q(["update:modelValue","change"],["update:modelValue"]),setup(k,{emit:f}){const c=k,p=Z(k,"modelValue"),u=f,o=a=>{u("update:modelValue",a.tabValue),u("change",a)};return(a,t)=>{const l=se;return x(),C("div",le,[d(l,null,{default:r(()=>[i("div",de,[(x(!0),C(B,null,O(a.tabs,(m,n)=>(x(),C("div",{key:n,class:ee(["tab cursor-pointer font-medium sm:relative sm:!mr-1 sm:px-4 sm:!text-sm",[m.tabValue===p.value?"active":null,c.isFullWidth&&"!w-full"]]),onClick:s=>o(m)},E(m.title),11,pe))),128))])]),_:1})])}}}),ue=P(ie,[["__scopeId","data-v-0486859f"]]),re={class:"space-y-3"},me={class:"space-y-2"},ce={class:"space-y-2"},_e={class:"flex items-center justify-end space-x-3"},ge=$({__name:"PopupAddDepartment",setup(k){const{setOpenPopup:f}=z(),c=g(!1),p=g({name:"",description:""}),u=async()=>{try{c.value=!0;const o=await M.createdDepartment({...p.value});R.success(o.message),f("popup-add-department",!1),c.value=!1}catch(o){c.value=!1,console.log(o)}};return(o,a)=>{const t=J,l=h,m=S;return x(),I(m,{name:"popup-add-department",width:"700"},{title:r(()=>a[3]||(a[3]=[V(" Add department ")])),footer:r(()=>[i("div",_e,[d(l,{type:"plain",size:"small",class:"w-20",onClick:a[2]||(a[2]=n=>e(f)("popup-add-department",!1))},{default:r(()=>a[6]||(a[6]=[V("Hủy")])),_:1}),d(l,{loading:e(c),size:"small",class:"w-20",onClick:u},{default:r(()=>a[7]||(a[7]=[V("Tạo")])),_:1},8,["loading"])])]),default:r(()=>[i("div",re,[i("div",me,[a[4]||(a[4]=i("p",{class:"text-label"},"Tên chuyên khoa",-1)),d(t,{modelValue:e(p).name,"onUpdate:modelValue":a[0]||(a[0]=n=>e(p).name=n),class:"input",style:{height:"50px",width:"100%"},placeholder:"Khoa Răng-Hàm-Mặt"},null,8,["modelValue"])]),i("div",ce,[a[5]||(a[5]=i("p",{class:"text-label"},"Mô tả",-1)),d(t,{modelValue:e(p).description,"onUpdate:modelValue":a[1]||(a[1]=n=>e(p).description=n),class:"input",style:{height:"50px",width:"100%"},autosize:{minRows:2},type:"textarea",placeholder:"Vui lòng nhập mô tả"},null,8,["modelValue"])])])]),_:1})}}}),fe=P(ge,[["__scopeId","data-v-1c38d3be"]]),ve={class:"flex items-center justify-end space-x-3"},ye=$({__name:"PopupAddDoctortoPackage",props:{isLoadingAdd:{type:Boolean,default:!1}},emits:["cancel","add"],setup(k,{emit:f}){const c=f,p=g([]),u=g(""),o=g(!1),a=g(""),t=k,l=async()=>{try{o.value=!0;const n=await te.getDoctorByName(u.value.trim());p.value=n.value.contentResponse,o.value=!1}catch(n){o.value=!1,console.log(n)}},m=n=>{a.value=n.id};return(n,s)=>{const v=K,_=Q,b=Y,T=X,A=h,U=S;return x(),I(U,{name:"popup-add-doctor-to-package",width:"480"},{title:r(()=>s[4]||(s[4]=[V(" Thêm bác sĩ ")])),footer:r(()=>[i("div",ve,[d(A,{type:"plain",size:"small",class:"w-20",onClick:s[2]||(s[2]=w=>c("cancel"))},{default:r(()=>s[5]||(s[5]=[V("Hủy")])),_:1}),d(A,{loading:t.isLoadingAdd,size:"small",class:"w-20",onClick:s[3]||(s[3]=w=>c("add",e(a)))},{default:r(()=>s[6]||(s[6]=[V("Thêm")])),_:1},8,["loading"])])]),default:r(()=>[i("div",null,[d(v,{modelValue:e(u),"onUpdate:modelValue":s[0]||(s[0]=w=>D(u)?u.value=w:null),class:"input-search mb-3","show-icon":!0,onChange:l},null,8,["modelValue"]),e(o)?(x(),I(_,{key:0})):e(p).length===0?(x(),I(b,{key:1})):(x(!0),C(B,{key:2},O(e(p),(w,L)=>(x(),C("div",{key:L},[d(T,{modelValue:e(a),"onUpdate:modelValue":s[1]||(s[1]=y=>D(a)?a.value=y:null),class:"check-box",label:w.info.name,"true-value":w.id,size:"large",onChange:y=>m(w)},null,8,["modelValue","label","true-value","onChange"])]))),128))])]),_:1})}}}),xe=P(ye,[["__scopeId","data-v-8a6b5795"]]),be={class:"mt-3 flex justify-end"},ke=$({__name:"TabDoctors",props:{departmentId:{default:""}},setup(k){const{setOpenPopup:f}=z(),c=k,p=g(!1),u=()=>{f("popup-add-doctor-to-package",!1)},o=async a=>{try{p.value=!0;const t={departmentId:c.departmentId,doctorId:a},l=await M.addDoctorDepartment(t);R.success(l.message),p.value=!1}catch(t){p.value=!1,console.log(t)}};return(a,t)=>{const l=h;return x(),C(B,null,[i("div",be,[d(l,{size:"small",class:"w-40",onClick:t[0]||(t[0]=m=>e(f)("popup-add-doctor-to-package"))},{default:r(()=>t[1]||(t[1]=[V("Thêm bác sĩ")])),_:1})]),d(xe,{"is-loading-add":e(p),onAdd:o,onCancel:u},null,8,["is-loading-add"])],64)}}}),Ve={class:"space-y-3"},Ce={class:"space-y-2"},we={class:"space-y-2"},Be={class:"space-y-2"},$e={class:"flex items-center justify-end space-x-3"},Ie=$({__name:"PopupAddExminationPackage",props:{isLoading:{type:Boolean,default:!1}},emits:["cancel","add"],setup(k,{emit:f}){const c=k,p=f,u=g({name:"",description:"",price:""}),o=()=>{p("add",{...u.value})};return(a,t)=>{const l=J,m=h,n=S;return x(),I(n,{name:"popup-add-exmination-package",width:"480"},{title:r(()=>t[4]||(t[4]=[V(" Add exmination package ")])),footer:r(()=>[i("div",$e,[d(m,{type:"plain",size:"small",class:"w-20",onClick:t[3]||(t[3]=s=>p("cancel"))},{default:r(()=>t[8]||(t[8]=[V("Hủy")])),_:1}),d(m,{loading:c.isLoading,size:"small",class:"w-20",onClick:o},{default:r(()=>t[9]||(t[9]=[V("Thêm")])),_:1},8,["loading"])])]),default:r(()=>[i("div",Ve,[i("div",Ce,[t[5]||(t[5]=i("p",{class:"text-label"},"Tên gói khám",-1)),d(l,{modelValue:e(u).name,"onUpdate:modelValue":t[0]||(t[0]=s=>e(u).name=s),class:"input",style:{height:"50px",width:"100%"},placeholder:"Gói tầm soát ung thư tai - mũi - họng"},null,8,["modelValue"])]),i("div",we,[t[6]||(t[6]=i("p",{class:"text-label"},"Mô tả",-1)),d(l,{modelValue:e(u).description,"onUpdate:modelValue":t[1]||(t[1]=s=>e(u).description=s),class:"input",style:{height:"50px",width:"100%"},autosize:{minRows:2},type:"textarea",placeholder:"Vui lòng nhập mô tả"},null,8,["modelValue"])]),i("div",Be,[t[7]||(t[7]=i("p",{class:"text-label"},"Giá khám",-1)),d(l,{modelValue:e(u).price,"onUpdate:modelValue":t[2]||(t[2]=s=>e(u).price=s),style:{height:"50px",width:"100%"},class:"input",formatter:s=>`${s}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:s=>s.replace(/\$\s?|(,*)/g,"")},null,8,["modelValue","formatter","parser"])])])]),_:1})}}}),he=P(Ie,[["__scopeId","data-v-96f5fcde"]]),Ae={class:"mt-3 flex justify-end"},Ee=$({__name:"TabSpecializes",props:{departmentId:{default:""}},setup(k){const{setOpenPopup:f}=z();G(()=>{l()});const c=g([]),p=g(!1),u=k,o=g({...W}),a=()=>{f("popup-add-exmination-package",!1)},t=async m=>{try{p.value=!0;const n=u.departmentId,s=await N.createPackage({...m,departmentId:n});R.success(s.message),f("popup-add-exmination-package",!1),p.value=!1}catch(n){p.value=!1,console.log(n)}},l=async()=>{try{o.value.loading=!0;const m=await N.getAllPackage(o.value);c.value=m.value.contentResponse,o.value.totalElements=m.value.totalElements,o.value.loading=!1}catch(m){o.value.loading=!1,console.log(m)}};return(m,n)=>{const s=h,v=F,_=H;return x(),C(B,null,[i("div",Ae,[d(s,{size:"small",class:"w-40",onClick:n[0]||(n[0]=b=>e(f)("popup-add-exmination-package"))},{default:r(()=>n[3]||(n[3]=[V("Thêm gói khám")])),_:1})]),d(_,{page:e(o).pageIndex,"onUpdate:page":n[1]||(n[1]=b=>e(o).pageIndex=b),limit:e(o).pageSize,"onUpdate:limit":n[2]||(n[2]=b=>e(o).pageSize=b),data:e(c),query:e(o),class:"mt-6",label:"user",onPageChange:l,onLimitChange:l},{default:r(()=>[d(v,{type:"index",index:b=>("printIndex"in m?m.printIndex:e(j))(b,e(o)),label:"#",align:"center"},null,8,["index"]),d(v,{label:"NAME"},{default:r(({row:b})=>[i("p",null,E(b.name),1)]),_:1}),d(v,{label:"price"},{default:r(({row:b})=>[i("p",null,E(b.price),1)]),_:1})]),_:1},8,["page","limit","data","query"]),d(he,{"is-loading":e(p),onAdd:t,onCancel:a},null,8,["is-loading"])],64)}}}),Pe={class:"flex items-start justify-between"},De={class:"flex items-center justify-start"},ze={class:"text-lg"},Te={class:"pb-6 pt-4"},Ue=$({__name:"DepartmentView",setup(k){const{setOpenPopup:f}=z(),c=g([{id:1,title:"Doctors",tabValue:"doctors"},{id:2,title:"Specialize",tabValue:"specialize"}]),p=g("doctors"),u=g(""),o=g([]),a=g({}),t=g(""),l=g({...W,search:""}),m=ae(()=>p.value==="doctors"?ke:Ee);G(()=>{n()});const n=async()=>{try{l.value.loading=!0;const v=await M.getAllDepartment(l.value);o.value=v.value.contentResponse,l.value.totalElements=v.value.totalElements,l.value.loading=!1}catch(v){l.value.loading=!1,console.log(v)}},s=v=>{a.value=v,t.value=v.id};return(v,_)=>{const b=K,T=h,A=F,U=H,w=oe,L=ue;return x(),C(B,null,[e(t)?(x(),C(B,{key:1},[i("div",De,[d(w,{name:"back",class:"mr-3 cursor-pointer",onClick:_[4]||(_[4]=y=>t.value="")}),i("p",ze,E(e(a).name),1)]),i("div",Te,[d(L,{modelValue:e(p),"onUpdate:modelValue":_[5]||(_[5]=y=>D(p)?p.value=y:null),tabs:e(c)},null,8,["modelValue","tabs"]),(x(),I(ne(e(m)),{"department-id":e(t)},null,8,["department-id"]))])],64)):(x(),C(B,{key:0},[i("div",Pe,[d(b,{modelValue:e(u),"onUpdate:modelValue":_[0]||(_[0]=y=>D(u)?u.value=y:null),class:"input-search","show-icon":!0},null,8,["modelValue"]),d(T,{size:"small",class:"w-20",onClick:_[1]||(_[1]=y=>e(f)("popup-add-department"))},{default:r(()=>_[6]||(_[6]=[V("Add")])),_:1})]),d(U,{page:e(l).pageIndex,"onUpdate:page":_[2]||(_[2]=y=>e(l).pageIndex=y),limit:e(l).pageSize,"onUpdate:limit":_[3]||(_[3]=y=>e(l).pageSize=y),data:e(o),query:e(l),class:"mt-6",label:"user",onPageChange:n,onLimitChange:n,onRowClick:s},{default:r(()=>[d(A,{type:"index",index:y=>("printIndex"in v?v.printIndex:e(j))(y,e(l)),label:"#",align:"center"},null,8,["index"]),d(A,{label:"NAME"},{default:r(({row:y})=>[i("p",null,E(y.name),1)]),_:1})]),_:1},8,["page","limit","data","query"])],64)),d(fe)],64)}}}),Je=P(Ue,[["__scopeId","data-v-e6aaf590"]]);export{Je as default};
