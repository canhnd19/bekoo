import{_ as C,a as N,p as A,E as B}from"./PopupConfirmDelete.vue_vue_type_script_setup_true_lang-DcnPueLJ.js";import{_ as V}from"./BaseIcon.vue_vue_type_script_setup_true_lang-SKFqPpP9.js";import{d as D,v as T,x as u,y as k,z as v,o as z,c as L,a as o,q as t,f as l,m as i,F as M,E as P,A as R,t as m,_ as S}from"./index-BKwzwGsf.js";import"./el-select-CsZb-53C.js";import{_ as q}from"./BaseButton-B06WgpaU.js";import{_ as O}from"./BaseInput-CZbSBXj-.js";import{D as F}from"./index-BN3nrbBq.js";import"./el-scrollbar-DIgTVryk.js";import"./el-popper-DyZV8nJ2.js";import"./use-form-item-DD1G1vvA.js";import"./el-input-B3eMP-2A.js";import"./refs-BC08wjtb.js";import"./castArray-D9t3_q8i.js";const $={class:"rounded-lg p-4"},j={class:"flex items-start justify-between"},G={class:"flex items-center justify-end space-x-3"},H=D({__name:"UserView",setup(Q){const{setOpenPopup:_}=T(),n=u({...F,search:""}),g=u([]),c=u({}),p=u(!1);k(()=>{d()});const d=async()=>{try{n.value.loading=!0;const e=await v.getAllUser(n.value);g.value=e.value.contentResponse,n.value.totalElements=e.value.totalElements,n.value.loading=!1}catch(e){n.value.loading=!1,console.log(e)}},h=()=>{},x=e=>{c.value=e,_("popup-confirm-delete")},E=async()=>{try{p.value=!0;const e=await v.deteteUser([c.value.id]);P.success(e.message),_("popup-confirm-delete",!1),p.value=!1,d()}catch(e){p.value=!1,console.log(e)}},U=e=>{n.value.pageSize=e,n.value.pageIndex=1,d()},I=e=>{n.value.pageIndex=e,d()};return(e,s)=>{const y=O,b=q,r=B,f=V,w=N;return z(),L(M,null,[o("div",$,[o("div",j,[t(y,{modelValue:l(n).search,"onUpdate:modelValue":s[0]||(s[0]=a=>l(n).search=a),class:"input-search","show-icon":!0},null,8,["modelValue"]),t(b,{size:"small",class:"w-20"},{default:i(()=>s[3]||(s[3]=[R("Add")])),_:1})]),t(w,{page:l(n).pageIndex,"onUpdate:page":s[1]||(s[1]=a=>l(n).pageIndex=a),limit:l(n).pageSize,"onUpdate:limit":s[2]||(s[2]=a=>l(n).pageSize=a),data:l(g),query:l(n),class:"mt-6",label:"user",onPageChange:I,onLimitChange:U},{default:i(()=>[t(r,{type:"index",index:a=>("printIndex"in e?e.printIndex:l(A))(a,l(n)),label:"#",align:"center"},null,8,["index"]),t(r,{label:"NAME"},{default:i(({row:a})=>[o("p",null,m(a.name),1)]),_:1}),t(r,{label:"EMAIL"},{default:i(({row:a})=>[o("p",null,m(a.email),1)]),_:1}),t(r,{label:"PHONE NUMBER",width:"200"},{default:i(({row:a})=>[o("p",null,m(a.phoneNumber),1)]),_:1}),t(r,{label:"GENDER",width:"90"},{default:i(({row:a})=>[o("p",null,m(a.gender),1)]),_:1}),t(r,{label:"ACTION",width:"120",align:"right"},{default:i(({row:a})=>[o("div",G,[t(f,{name:"edit",onClick:h}),t(f,{name:"delete",onClick:Y=>x(a)},null,8,["onClick"])])]),_:1})]),_:1},8,["page","limit","data","query"])]),t(C,{name:l(c).email,type:"người dùng","is-loading-delete":l(p),onDelete:E},null,8,["name","is-loading-delete"])],64)}}}),re=S(H,[["__scopeId","data-v-038eca17"]]);export{re as default};
