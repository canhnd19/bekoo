import{bV as pe,bC as me,A as ne,bR as ve,V as ye,a7 as G,G as se,b as q,e as T,bF as le,aY as Q,z as W,aT as be,bO as Ce,c0 as Ee,bQ as ge,av as K,W as Z,X,d as z,s as V,r as E,bc as Te,a3 as he,a6 as Se,U as ee,o as _,c as x,a as N,n as S,f as o,t as we,p as g,m as F,L as ke,a4 as Be,v as j,h as J,g as ae,c1 as Me,ac as Le,c2 as Ae,y as w,b8 as De,c3 as Ie,M as Oe,aa as _e,c4 as oe,u as Ne,T as $e,aX as Ye,aU as Re,a9 as ze,a8 as re,aZ as Pe,w as Ue,D as Ve,_ as He}from"./index-C5oaU_49.js";import{F as Xe,i as Fe,d as Ke,e as xe}from"./el-popper-Dcn1sVm1.js";import{c as Ge}from"./refs-CwCZ5xVT.js";import{U as ie}from"./index-BG_vS74r.js";import{u as te}from"./use-form-item-CZgYvxm9.js";import{t as We}from"./BaseIcon.vue_vue_type_script_setup_true_lang-BH3vnytv.js";import{g as je}from"./index-BNjyiAtH.js";import{u as qe}from"./index-BPKP3Us6.js";function Ze(e,s,l){var a=e==null?0:e.length;if(!a)return-1;var n=0;return pe(e,me(s),n)}var H=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(H||{});const Je=(e,s,l,a)=>{let n={offsetX:0,offsetY:0};const d=f=>{const u=f.clientX,y=f.clientY,{offsetX:b,offsetY:m}=n,v=e.value.getBoundingClientRect(),h=v.left,p=v.top,$=v.width,k=v.height,P=document.documentElement.clientWidth,U=document.documentElement.clientHeight,Y=-h+b,B=-p+m,M=P-h-$+b,L=U-p-k+m,A=t=>{let I=b+t.clientX-u,R=m+t.clientY-y;a!=null&&a.value||(I=Math.min(Math.max(I,Y),M),R=Math.min(Math.max(R,B),L)),n={offsetX:I,offsetY:R},e.value&&(e.value.style.transform=`translate(${G(I)}, ${G(R)})`)},D=()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",D)};document.addEventListener("mousemove",A),document.addEventListener("mouseup",D)},r=()=>{s.value&&e.value&&s.value.addEventListener("mousedown",d)},c=()=>{s.value&&e.value&&s.value.removeEventListener("mousedown",d)},i=()=>{n={offsetX:0,offsetY:0},e.value&&(e.value.style.transform="none")};return ne(()=>{ve(()=>{l.value?r():c()})}),ye(()=>{c()}),{resetPosition:i}},Qe=(e,s={})=>{se(e)||We("[useLockscreen]","You need to pass a ref param to this function");const l=s.ns||q("popup"),a=T(()=>l.bm("parent","hidden"));if(!le||Q(document.body,a.value))return;let n=0,d=!1,r="0";const c=()=>{setTimeout(()=>{ge(document==null?void 0:document.body,a.value),d&&document&&(document.body.style.width=r)},200)};W(e,i=>{if(!i){c();return}d=!Q(document.body,a.value),d&&(r=document.body.style.width),n=je(l.namespace.value);const f=document.documentElement.clientHeight<document.body.scrollHeight,u=be(document.body,"overflowY");n>0&&(f||u==="scroll")&&d&&(document.body.style.width=`calc(100% - ${n}px)`),Ce(document.body,a.value)}),Ee(()=>c())},de=e=>{if(!e)return{onClick:K,onMousedown:K,onMouseup:K};let s=!1,l=!1;return{onClick:r=>{s&&l&&e(r),s=l=!1},onMousedown:r=>{s=r.target===r.currentTarget},onMouseup:r=>{l=r.target===r.currentTarget}}},eo=Z({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:X([String,Array,Object])},zIndex:{type:X([String,Number])}}),oo={click:e=>e instanceof MouseEvent},to="overlay";var no=z({name:"ElOverlay",props:eo,emits:oo,setup(e,{slots:s,emit:l}){const a=q(to),n=i=>{l("click",i)},{onClick:d,onMousedown:r,onMouseup:c}=de(e.customMaskEvent?void 0:n);return()=>e.mask?V("div",{class:[a.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:d,onMousedown:r,onMouseup:c},[E(s,"default")],H.STYLE|H.CLASS|H.PROPS,["onClick","onMouseup","onMousedown"]):Te("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[E(s,"default")])}});const so=no,ue=Symbol("dialogInjectionKey"),ce=Z({center:Boolean,alignCenter:Boolean,closeIcon:{type:he},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),lo={close:()=>!0},ao=z({name:"ElDialogContent"}),ro=z({...ao,props:ce,emits:lo,setup(e,{expose:s}){const l=e,{t:a}=Se(),{Close:n}=Me,{dialogRef:d,headerRef:r,bodyId:c,ns:i,style:f}=ee(ue),{focusTrapRef:u}=ee(Xe),y=T(()=>[i.b(),i.is("fullscreen",l.fullscreen),i.is("draggable",l.draggable),i.is("align-center",l.alignCenter),{[i.m("center")]:l.center}]),b=Ge(u,d),m=T(()=>l.draggable),v=T(()=>l.overflow),{resetPosition:h}=Je(d,r,m,v);return s({resetPosition:h}),(p,$)=>(_(),x("div",{ref:o(b),class:S(o(y)),style:J(o(f)),tabindex:"-1"},[N("header",{ref_key:"headerRef",ref:r,class:S([o(i).e("header"),{"show-close":p.showClose}])},[E(p.$slots,"header",{},()=>[N("span",{role:"heading","aria-level":p.ariaLevel,class:S(o(i).e("title"))},we(p.title),11,["aria-level"])]),p.showClose?(_(),x("button",{key:0,"aria-label":o(a)("el.dialog.close"),class:S(o(i).e("headerbtn")),type:"button",onClick:k=>p.$emit("close")},[V(o(Be),{class:S(o(i).e("close"))},{default:g(()=>[(_(),F(ke(p.closeIcon||o(n))))]),_:1},8,["class"])],10,["aria-label","onClick"])):j("v-if",!0)],2),N("div",{id:o(c),class:S(o(i).e("body"))},[E(p.$slots,"default")],10,["id"]),p.$slots.footer?(_(),x("footer",{key:0,class:S(o(i).e("footer"))},[E(p.$slots,"footer")],2)):j("v-if",!0)],6))}});var io=ae(ro,[["__file","dialog-content.vue"]]);const uo=Z({...ce,appendToBody:Boolean,appendTo:{type:X([String,Object]),default:"body"},beforeClose:{type:X(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),co={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ie]:e=>Le(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},fo=(e,s)=>{var l;const n=_e().emit,{nextZIndex:d}=Ae();let r="";const c=te(),i=te(),f=w(!1),u=w(!1),y=w(!1),b=w((l=e.zIndex)!=null?l:d());let m,v;const h=De("namespace",Ie),p=T(()=>{const C={},O=`--${h.value}-dialog`;return e.fullscreen||(e.top&&(C[`${O}-margin-top`]=e.top),e.width&&(C[`${O}-width`]=G(e.width))),C}),$=T(()=>e.alignCenter?{display:"flex"}:{});function k(){n("opened")}function P(){n("closed"),n(ie,!1),e.destroyOnClose&&(y.value=!1)}function U(){n("close")}function Y(){v==null||v(),m==null||m(),e.openDelay&&e.openDelay>0?{stop:m}=oe(()=>A(),e.openDelay):A()}function B(){m==null||m(),v==null||v(),e.closeDelay&&e.closeDelay>0?{stop:v}=oe(()=>D(),e.closeDelay):D()}function M(){function C(O){O||(u.value=!0,f.value=!1)}e.beforeClose?e.beforeClose(C):B()}function L(){e.closeOnClickModal&&M()}function A(){le&&(f.value=!0)}function D(){f.value=!1}function t(){n("openAutoFocus")}function I(){n("closeAutoFocus")}function R(C){var O;((O=C.detail)==null?void 0:O.focusReason)==="pointer"&&C.preventDefault()}e.lockScroll&&Qe(f);function fe(){e.closeOnPressEscape&&M()}return W(()=>e.modelValue,C=>{C?(u.value=!1,Y(),y.value=!0,b.value=Fe(e.zIndex)?d():b.value++,Oe(()=>{n("open"),s.value&&(s.value.scrollTop=0)})):f.value&&B()}),W(()=>e.fullscreen,C=>{s.value&&(C?(r=s.value.style.transform,s.value.style.transform=""):s.value.style.transform=r)}),ne(()=>{e.modelValue&&(f.value=!0,y.value=!0,Y())}),{afterEnter:k,afterLeave:P,beforeLeave:U,handleClose:M,onModalClick:L,close:B,doClose:D,onOpenAutoFocus:t,onCloseAutoFocus:I,onCloseRequested:fe,onFocusoutPrevented:R,titleId:c,bodyId:i,closed:u,style:p,overlayDialogStyle:$,rendered:y,visible:f,zIndex:b}},po=z({name:"ElDialog",inheritAttrs:!1}),mo=z({...po,props:uo,emits:co,setup(e,{expose:s}){const l=e,a=Ne();qe({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},T(()=>!!a.title));const n=q("dialog"),d=w(),r=w(),c=w(),{visible:i,titleId:f,bodyId:u,style:y,overlayDialogStyle:b,rendered:m,zIndex:v,afterEnter:h,afterLeave:p,beforeLeave:$,handleClose:k,onModalClick:P,onOpenAutoFocus:U,onCloseAutoFocus:Y,onCloseRequested:B,onFocusoutPrevented:M}=fo(l,d);$e(ue,{dialogRef:d,headerRef:r,bodyId:u,ns:n,rendered:m,style:y});const L=de(P),A=T(()=>l.draggable&&!l.fullscreen);return s({visible:i,dialogContentRef:c,resetPosition:()=>{var t;(t=c.value)==null||t.resetPosition()}}),(t,I)=>(_(),F(o(xe),{to:t.appendTo,disabled:t.appendTo!=="body"?!1:!t.appendToBody},{default:g(()=>[V(Ye,{name:"dialog-fade",onAfterEnter:o(h),onAfterLeave:o(p),onBeforeLeave:o($),persisted:""},{default:g(()=>[Re(V(o(so),{"custom-mask-event":"",mask:t.modal,"overlay-class":t.modalClass,"z-index":o(v)},{default:g(()=>[N("div",{role:"dialog","aria-modal":"true","aria-label":t.title||void 0,"aria-labelledby":t.title?void 0:o(f),"aria-describedby":o(u),class:S(`${o(n).namespace.value}-overlay-dialog`),style:J(o(b)),onClick:o(L).onClick,onMousedown:o(L).onMousedown,onMouseup:o(L).onMouseup},[V(o(Ke),{loop:"",trapped:o(i),"focus-start-el":"container",onFocusAfterTrapped:o(U),onFocusAfterReleased:o(Y),onFocusoutPrevented:o(M),onReleaseRequested:o(B)},{default:g(()=>[o(m)?(_(),F(io,ze({key:0,ref_key:"dialogContentRef",ref:c},t.$attrs,{center:t.center,"align-center":t.alignCenter,"close-icon":t.closeIcon,draggable:o(A),overflow:t.overflow,fullscreen:t.fullscreen,"show-close":t.showClose,title:t.title,"aria-level":t.headerAriaLevel,onClose:o(k)}),re({header:g(()=>[t.$slots.title?E(t.$slots,"title",{key:1}):E(t.$slots,"header",{key:0,close:o(k),titleId:o(f),titleClass:o(n).e("title")})]),default:g(()=>[E(t.$slots,"default")]),_:2},[t.$slots.footer?{name:"footer",fn:g(()=>[E(t.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):j("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[Pe,o(i)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var vo=ae(mo,[["__file","dialog.vue"]]);const yo=Ue(vo),bo={class:"w-full text-lg font-semibold uppercase text-secondary"},Co={class:"popup-footer"},Eo=z({__name:"BasePopup",props:{name:{default:"popup-root"},width:{default:"600px"},appendBody:{type:Boolean,default:!0},isShowFooter:{type:Boolean,default:!0},top:{default:"5vh"},closeClickModal:{type:Boolean,default:!1},closePressEscape:{type:Boolean,default:!0},padding:{default:"24px"},destroyOnClose:{type:Boolean,default:!1}},emits:["close","open"],setup(e,{expose:s,emit:l}){const a=e,n=l,d=Ve(),r=w(),c=T({get(){return Ze(d.popup,u=>u===a.name)!==-1},set(u){d.setOpenPopup(a.name,u)}}),i=()=>{n("open")},f=()=>{n("close")};return s({popupBody:r}),(u,y)=>{const b=yo;return _(),F(b,{modelValue:o(c),"onUpdate:modelValue":y[0]||(y[0]=m=>se(c)?c.value=m:null),width:a.width,"append-to-body":a.appendBody,"close-on-press-escape":a.closePressEscape,"close-on-click-modal":a.closeClickModal,top:a.top,"destroy-on-close":u.destroyOnClose,"align-center":"",class:"base-popup",onOpen:i,onClose:f},re({header:g(()=>[N("div",bo,[E(u.$slots,"title",{},void 0,!0)])]),default:g(()=>[N("div",{ref_key:"popupBody",ref:r,class:"popup-content",style:J({padding:a.padding})},[E(u.$slots,"default",{},void 0,!0)],4)]),_:2},[u.isShowFooter?{name:"footer",fn:g(()=>[N("div",Co,[E(u.$slots,"footer",{},void 0,!0)])]),key:"0"}:void 0]),1032,["modelValue","width","append-to-body","close-on-press-escape","close-on-click-modal","top","destroy-on-close"])}}}),Lo=He(Eo,[["__scopeId","data-v-fdd9cba0"]]);export{Lo as _};
