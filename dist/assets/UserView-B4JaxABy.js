import{_ as E,p as C,E as B}from"./el-table-column-vE3Qf7fa.js";import{_ as A}from"./BaseIcon.vue_vue_type_script_setup_true_lang-BP6YW6Xw.js";import{d as S,D as V,y as u,A as D,E as f,o as L,c as N,a as o,s as l,f as t,p as r,F as T,G as k,t as d,_ as z}from"./index-NYq5Ntnu.js";import"./el-select-BHpi38ps.js";import{_ as P}from"./BaseInput-CQjAkCCt.js";import{D as q}from"./index-BIOmELBf.js";import{_ as F}from"./PopupConfirmDelete.vue_vue_type_script_setup_true_lang-B_Dh6guK.js";import"./BasePagination-M_sXuk1A.js";import"./el-scrollbar-D-bhH-UI.js";import"./el-popper-D2uLC8Y4.js";import"./use-form-item-CIwSK4jn.js";import"./index-DkeYtp-g.js";import"./index-Hjr-NPTB.js";import"./index-RowLBzQm.js";import"./index-DzNFaNYm.js";import"./BaseLoading-CbUSJSYv.js";import"./castArray-XXlUCfao.js";/* empty css                 */import"./BasePopup-CZ28Y-7e.js";import"./el-overlay-Dfz17fYB.js";import"./BaseButton-CbJCq0-p.js";const M={class:"rounded-lg p-4"},R={class:"flex items-start justify-between"},$={class:"flex items-center justify-end space-x-3"},j=S({__name:"UserView",setup(G){const{setOpenPopup:g}=V(),e=u({...q,name:""}),_=u([]),c=u({}),m=u(!1);D(()=>{p()});const p=async()=>{try{e.value.loading=!0;const a=await f.getAllUser(e.value);_.value=a.value.contentResponse,e.value.totalElements=a.value.totalElements,e.value.loading=!1}catch(a){e.value.loading=!1,console.log(a)}},h=a=>{c.value=a,g("popup-confirm-delete")},v=async()=>{try{m.value=!0;const a=await f.deteteUser([c.value.id]);k.success(a.message),g("popup-confirm-delete",!1),m.value=!1,p()}catch(a){m.value=!1,console.log(a)}},x=a=>{e.value.pageSize=a,e.value.pageIndex=1,p()},b=a=>{e.value.pageIndex=a,p()},I=()=>{e.value={...e.value,pageIndex:1,pageSize:10,totalElements:0},p()};return(a,s)=>{const y=P,i=B,U=A,w=E;return L(),N(T,null,[o("div",M,[o("div",R,[l(y,{modelValue:t(e).name,"onUpdate:modelValue":s[0]||(s[0]=n=>t(e).name=n),class:"input-search","show-icon":!0,onChange:I},null,8,["modelValue"])]),l(w,{page:t(e).pageIndex,"onUpdate:page":s[1]||(s[1]=n=>t(e).pageIndex=n),limit:t(e).pageSize,"onUpdate:limit":s[2]||(s[2]=n=>t(e).pageSize=n),data:t(_),query:t(e),class:"mt-6",label:"người dùng",onPageChange:b,onLimitChange:x},{default:r(()=>[l(i,{type:"index",index:n=>("printIndex"in a?a.printIndex:t(C))(n,t(e)),width:"75",label:"#",align:"center"},null,8,["index"]),l(i,{label:"tên",width:"320"},{default:r(({row:n})=>[o("p",null,d(n.name),1)]),_:1}),l(i,{label:"EMAIL",width:"320"},{default:r(({row:n})=>[o("p",null,d(n.email),1)]),_:1}),l(i,{label:"số điện thoại",width:"160"},{default:r(({row:n})=>[o("p",null,d(n.phoneNumber),1)]),_:1}),l(i,{label:"giới tính",align:"center"},{default:r(({row:n})=>[o("p",null,d(n.gender),1)]),_:1}),l(i,{label:"hành động",align:"right"},{default:r(({row:n})=>[o("div",$,[l(U,{name:"delete",onClick:O=>h(n)},null,8,["onClick"])])]),_:1})]),_:1},8,["page","limit","data","query"])]),l(F,{name:t(c).email,type:"người dùng","is-loading-button":t(m),onDelete:v},null,8,["name","is-loading-button"])],64)}}}),ce=z(j,[["__scopeId","data-v-52f978e2"]]);export{ce as default};
