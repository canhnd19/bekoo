import{ba as pe,bb as me,B as ne,bc as ve,C as ye,aa as G,L as se,b as q,e as h,bd as le,aZ as Q,A as j,aU as be,be as Ce,bf as Ee,bg as ge,aw as K,Z,$ as X,d as z,s as U,r as E,D as he,a6 as Te,a9 as we,Y as ee,o as O,c as F,a as N,n as w,f as o,t as Se,p as g,m as x,R as ke,a7 as Be,P as W,h as J,g as ae,bh as Le,af as Me,bi as Ae,x as S,b6 as De,bj as Ie,E as _e,ad as Oe,bk as oe,u as Ne,z as $e,aY as Ye,aV as Re,ac as ze,ab as re,a_ as Pe,w as He,J as Ue,_ as Ve}from"./index-D_BuvB-D.js";import{F as Xe,i as xe,b as Ke,d as Fe}from"./el-popper-BujlmXIY.js";import{c as Ge}from"./refs-DrDK6LVz.js";import{U as ie}from"./index-CF7afJg5.js";import{u as te}from"./use-form-item-B2wKpYSg.js";import{t as je}from"./BaseIcon.vue_vue_type_script_setup_true_lang-LCufWN4S.js";import{g as We}from"./index-CaEhwcam.js";import{u as qe}from"./index-Bi6AMCOf.js";function Ze(e,s,l){var a=e==null?0:e.length;if(!a)return-1;var n=0;return pe(e,me(s),n)}var V=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(V||{});const Je=(e,s,l,a)=>{let n={offsetX:0,offsetY:0};const d=f=>{const u=f.clientX,y=f.clientY,{offsetX:b,offsetY:m}=n,v=e.value.getBoundingClientRect(),T=v.left,p=v.top,$=v.width,k=v.height,P=document.documentElement.clientWidth,H=document.documentElement.clientHeight,Y=-T+b,B=-p+m,L=P-T-$+b,M=H-p-k+m,A=t=>{let I=b+t.clientX-u,R=m+t.clientY-y;a!=null&&a.value||(I=Math.min(Math.max(I,Y),L),R=Math.min(Math.max(R,B),M)),n={offsetX:I,offsetY:R},e.value&&(e.value.style.transform=`translate(${G(I)}, ${G(R)})`)},D=()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",D)};document.addEventListener("mousemove",A),document.addEventListener("mouseup",D)},r=()=>{s.value&&e.value&&s.value.addEventListener("mousedown",d)},c=()=>{s.value&&e.value&&s.value.removeEventListener("mousedown",d)},i=()=>{n={offsetX:0,offsetY:0},e.value&&(e.value.style.transform="none")};return ne(()=>{ve(()=>{l.value?r():c()})}),ye(()=>{c()}),{resetPosition:i}},Qe=(e,s={})=>{se(e)||je("[useLockscreen]","You need to pass a ref param to this function");const l=s.ns||q("popup"),a=h(()=>l.bm("parent","hidden"));if(!le||Q(document.body,a.value))return;let n=0,d=!1,r="0";const c=()=>{setTimeout(()=>{ge(document==null?void 0:document.body,a.value),d&&document&&(document.body.style.width=r)},200)};j(e,i=>{if(!i){c();return}d=!Q(document.body,a.value),d&&(r=document.body.style.width),n=We(l.namespace.value);const f=document.documentElement.clientHeight<document.body.scrollHeight,u=be(document.body,"overflowY");n>0&&(f||u==="scroll")&&d&&(document.body.style.width=`calc(100% - ${n}px)`),Ce(document.body,a.value)}),Ee(()=>c())},de=e=>{if(!e)return{onClick:K,onMousedown:K,onMouseup:K};let s=!1,l=!1;return{onClick:r=>{s&&l&&e(r),s=l=!1},onMousedown:r=>{s=r.target===r.currentTarget},onMouseup:r=>{l=r.target===r.currentTarget}}},eo=Z({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:X([String,Array,Object])},zIndex:{type:X([String,Number])}}),oo={click:e=>e instanceof MouseEvent},to="overlay";var no=z({name:"ElOverlay",props:eo,emits:oo,setup(e,{slots:s,emit:l}){const a=q(to),n=i=>{l("click",i)},{onClick:d,onMousedown:r,onMouseup:c}=de(e.customMaskEvent?void 0:n);return()=>e.mask?U("div",{class:[a.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:d,onMousedown:r,onMouseup:c},[E(s,"default")],V.STYLE|V.CLASS|V.PROPS,["onClick","onMouseup","onMousedown"]):he("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[E(s,"default")])}});const so=no,ue=Symbol("dialogInjectionKey"),ce=Z({center:Boolean,alignCenter:Boolean,closeIcon:{type:Te},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),lo={close:()=>!0},ao=z({name:"ElDialogContent"}),ro=z({...ao,props:ce,emits:lo,setup(e,{expose:s}){const l=e,{t:a}=we(),{Close:n}=Le,{dialogRef:d,headerRef:r,bodyId:c,ns:i,style:f}=ee(ue),{focusTrapRef:u}=ee(Xe),y=h(()=>[i.b(),i.is("fullscreen",l.fullscreen),i.is("draggable",l.draggable),i.is("align-center",l.alignCenter),{[i.m("center")]:l.center}]),b=Ge(u,d),m=h(()=>l.draggable),v=h(()=>l.overflow),{resetPosition:T}=Je(d,r,m,v);return s({resetPosition:T}),(p,$)=>(O(),F("div",{ref:o(b),class:w(o(y)),style:J(o(f)),tabindex:"-1"},[N("header",{ref_key:"headerRef",ref:r,class:w([o(i).e("header"),{"show-close":p.showClose}])},[E(p.$slots,"header",{},()=>[N("span",{role:"heading","aria-level":p.ariaLevel,class:w(o(i).e("title"))},Se(p.title),11,["aria-level"])]),p.showClose?(O(),F("button",{key:0,"aria-label":o(a)("el.dialog.close"),class:w(o(i).e("headerbtn")),type:"button",onClick:k=>p.$emit("close")},[U(o(Be),{class:w(o(i).e("close"))},{default:g(()=>[(O(),x(ke(p.closeIcon||o(n))))]),_:1},8,["class"])],10,["aria-label","onClick"])):W("v-if",!0)],2),N("div",{id:o(c),class:w(o(i).e("body"))},[E(p.$slots,"default")],10,["id"]),p.$slots.footer?(O(),F("footer",{key:0,class:w(o(i).e("footer"))},[E(p.$slots,"footer")],2)):W("v-if",!0)],6))}});var io=ae(ro,[["__file","dialog-content.vue"]]);const uo=Z({...ce,appendToBody:Boolean,appendTo:{type:X([String,Object]),default:"body"},beforeClose:{type:X(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),co={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ie]:e=>Me(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},fo=(e,s)=>{var l;const n=Oe().emit,{nextZIndex:d}=Ae();let r="";const c=te(),i=te(),f=S(!1),u=S(!1),y=S(!1),b=S((l=e.zIndex)!=null?l:d());let m,v;const T=De("namespace",Ie),p=h(()=>{const C={},_=`--${T.value}-dialog`;return e.fullscreen||(e.top&&(C[`${_}-margin-top`]=e.top),e.width&&(C[`${_}-width`]=G(e.width))),C}),$=h(()=>e.alignCenter?{display:"flex"}:{});function k(){n("opened")}function P(){n("closed"),n(ie,!1),e.destroyOnClose&&(y.value=!1)}function H(){n("close")}function Y(){v==null||v(),m==null||m(),e.openDelay&&e.openDelay>0?{stop:m}=oe(()=>A(),e.openDelay):A()}function B(){m==null||m(),v==null||v(),e.closeDelay&&e.closeDelay>0?{stop:v}=oe(()=>D(),e.closeDelay):D()}function L(){function C(_){_||(u.value=!0,f.value=!1)}e.beforeClose?e.beforeClose(C):B()}function M(){e.closeOnClickModal&&L()}function A(){le&&(f.value=!0)}function D(){f.value=!1}function t(){n("openAutoFocus")}function I(){n("closeAutoFocus")}function R(C){var _;((_=C.detail)==null?void 0:_.focusReason)==="pointer"&&C.preventDefault()}e.lockScroll&&Qe(f);function fe(){e.closeOnPressEscape&&L()}return j(()=>e.modelValue,C=>{C?(u.value=!1,Y(),y.value=!0,b.value=xe(e.zIndex)?d():b.value++,_e(()=>{n("open"),s.value&&(s.value.scrollTop=0)})):f.value&&B()}),j(()=>e.fullscreen,C=>{s.value&&(C?(r=s.value.style.transform,s.value.style.transform=""):s.value.style.transform=r)}),ne(()=>{e.modelValue&&(f.value=!0,y.value=!0,Y())}),{afterEnter:k,afterLeave:P,beforeLeave:H,handleClose:L,onModalClick:M,close:B,doClose:D,onOpenAutoFocus:t,onCloseAutoFocus:I,onCloseRequested:fe,onFocusoutPrevented:R,titleId:c,bodyId:i,closed:u,style:p,overlayDialogStyle:$,rendered:y,visible:f,zIndex:b}},po=z({name:"ElDialog",inheritAttrs:!1}),mo=z({...po,props:uo,emits:co,setup(e,{expose:s}){const l=e,a=Ne();qe({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},h(()=>!!a.title));const n=q("dialog"),d=S(),r=S(),c=S(),{visible:i,titleId:f,bodyId:u,style:y,overlayDialogStyle:b,rendered:m,zIndex:v,afterEnter:T,afterLeave:p,beforeLeave:$,handleClose:k,onModalClick:P,onOpenAutoFocus:H,onCloseAutoFocus:Y,onCloseRequested:B,onFocusoutPrevented:L}=fo(l,d);$e(ue,{dialogRef:d,headerRef:r,bodyId:u,ns:n,rendered:m,style:y});const M=de(P),A=h(()=>l.draggable&&!l.fullscreen);return s({visible:i,dialogContentRef:c,resetPosition:()=>{var t;(t=c.value)==null||t.resetPosition()}}),(t,I)=>(O(),x(o(Fe),{to:t.appendTo,disabled:t.appendTo!=="body"?!1:!t.appendToBody},{default:g(()=>[U(Ye,{name:"dialog-fade",onAfterEnter:o(T),onAfterLeave:o(p),onBeforeLeave:o($),persisted:""},{default:g(()=>[Re(U(o(so),{"custom-mask-event":"",mask:t.modal,"overlay-class":t.modalClass,"z-index":o(v)},{default:g(()=>[N("div",{role:"dialog","aria-modal":"true","aria-label":t.title||void 0,"aria-labelledby":t.title?void 0:o(f),"aria-describedby":o(u),class:w(`${o(n).namespace.value}-overlay-dialog`),style:J(o(b)),onClick:o(M).onClick,onMousedown:o(M).onMousedown,onMouseup:o(M).onMouseup},[U(o(Ke),{loop:"",trapped:o(i),"focus-start-el":"container",onFocusAfterTrapped:o(H),onFocusAfterReleased:o(Y),onFocusoutPrevented:o(L),onReleaseRequested:o(B)},{default:g(()=>[o(m)?(O(),x(io,ze({key:0,ref_key:"dialogContentRef",ref:c},t.$attrs,{center:t.center,"align-center":t.alignCenter,"close-icon":t.closeIcon,draggable:o(A),overflow:t.overflow,fullscreen:t.fullscreen,"show-close":t.showClose,title:t.title,"aria-level":t.headerAriaLevel,onClose:o(k)}),re({header:g(()=>[t.$slots.title?E(t.$slots,"title",{key:1}):E(t.$slots,"header",{key:0,close:o(k),titleId:o(f),titleClass:o(n).e("title")})]),default:g(()=>[E(t.$slots,"default")]),_:2},[t.$slots.footer?{name:"footer",fn:g(()=>[E(t.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):W("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[Pe,o(i)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var vo=ae(mo,[["__file","dialog.vue"]]);const yo=He(vo),bo={class:"w-full text-lg font-semibold uppercase text-secondary"},Co={class:"popup-footer"},Eo=z({__name:"BasePopup",props:{name:{default:"popup-root"},width:{default:"600px"},appendBody:{type:Boolean,default:!0},isShowFooter:{type:Boolean,default:!0},top:{default:"5vh"},closeClickModal:{type:Boolean,default:!1},closePressEscape:{type:Boolean,default:!0},padding:{default:"24px"},destroyOnClose:{type:Boolean,default:!1}},emits:["close","open"],setup(e,{expose:s,emit:l}){const a=e,n=l,d=Ue(),r=S(),c=h({get(){return Ze(d.popup,u=>u===a.name)!==-1},set(u){d.setOpenPopup(a.name,u)}}),i=()=>{n("open")},f=()=>{n("close")};return s({popupBody:r}),(u,y)=>{const b=yo;return O(),x(b,{modelValue:o(c),"onUpdate:modelValue":y[0]||(y[0]=m=>se(c)?c.value=m:null),width:a.width,"append-to-body":a.appendBody,"close-on-press-escape":a.closePressEscape,"close-on-click-modal":a.closeClickModal,top:a.top,"destroy-on-close":u.destroyOnClose,"align-center":"",class:"base-popup",onOpen:i,onClose:f},re({header:g(()=>[N("div",bo,[E(u.$slots,"title",{},void 0,!0)])]),default:g(()=>[N("div",{ref_key:"popupBody",ref:r,class:"popup-content",style:J({padding:a.padding})},[E(u.$slots,"default",{},void 0,!0)],4)]),_:2},[u.isShowFooter?{name:"footer",fn:g(()=>[N("div",Co,[E(u.$slots,"footer",{},void 0,!0)])]),key:"0"}:void 0]),1032,["modelValue","width","append-to-body","close-on-press-escape","close-on-click-modal","top","destroy-on-close"])}}}),Mo=Ve(Eo,[["__scopeId","data-v-fdd9cba0"]]);export{Mo as _};
