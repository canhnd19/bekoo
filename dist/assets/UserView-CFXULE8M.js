import{_ as N,a as A,p as B,E as V}from"./PopupConfirmDelete.vue_vue_type_script_setup_true_lang-D0ZlZDiV.js";import{_ as D}from"./BaseIcon.vue_vue_type_script_setup_true_lang-CAiP8aEG.js";import{d as S,v as T,x as u,y as z,z as _,o as k,c as L,a as o,q as l,f as s,m as i,F as M,E as P,A as R,t as m,_ as q}from"./index-BOWFC6BE.js";import"./el-select-CsMXB__N.js";import{_ as O}from"./BaseButton-BT60jiqN.js";import{_ as F}from"./BaseInput-DtOy4AQi.js";import{D as $}from"./index-D12LjGri.js";import"./el-scrollbar-D3NCpjcB.js";import"./el-popper-qUzvNd1R.js";import"./use-form-item-Cv6wCcN-.js";import"./el-input-DcGKsDVZ.js";import"./refs-ChBJ43UD.js";import"./castArray-BajDoRb2.js";const j={class:"rounded-lg p-4"},G={class:"flex items-start justify-between"},H={class:"flex items-center justify-end space-x-3"},Q=S({__name:"UserView",setup(Y){const{setOpenPopup:g}=T(),e=u({...$,name:""}),f=u([]),c=u({}),p=u(!1);z(()=>{d()});const d=async(n="")=>{try{e.value.loading=!0;const t=n==="search"?await _.getAllUserByName(e.value):await _.getAllUser(e.value);f.value=t.value.contentResponse,e.value.totalElements=t.value.totalElements,e.value.loading=!1}catch(t){e.value.loading=!1,console.log(t)}},h=()=>{},x=n=>{c.value=n,g("popup-confirm-delete")},E=async()=>{try{p.value=!0;const n=await _.deteteUser([c.value.id]);P.success(n.message),g("popup-confirm-delete",!1),p.value=!1,d()}catch(n){p.value=!1,console.log(n)}},U=n=>{e.value.pageSize=n,e.value.pageIndex=1,d()},I=n=>{e.value.pageIndex=n,d()},y=()=>{e.value={...e.value,pageIndex:1,pageSize:10,totalElements:0},d("search")};return(n,t)=>{const b=F,w=O,r=V,v=D,C=A;return k(),L(M,null,[o("div",j,[o("div",G,[l(b,{modelValue:s(e).name,"onUpdate:modelValue":t[0]||(t[0]=a=>s(e).name=a),class:"input-search","show-icon":!0,onChange:y},null,8,["modelValue"]),l(w,{size:"small",class:"w-20"},{default:i(()=>t[3]||(t[3]=[R("Add")])),_:1})]),l(C,{page:s(e).pageIndex,"onUpdate:page":t[1]||(t[1]=a=>s(e).pageIndex=a),limit:s(e).pageSize,"onUpdate:limit":t[2]||(t[2]=a=>s(e).pageSize=a),data:s(f),query:s(e),class:"mt-6",label:"user",onPageChange:I,onLimitChange:U},{default:i(()=>[l(r,{type:"index",index:a=>("printIndex"in n?n.printIndex:s(B))(a,s(e)),label:"#",align:"center"},null,8,["index"]),l(r,{label:"NAME"},{default:i(({row:a})=>[o("p",null,m(a.name),1)]),_:1}),l(r,{label:"EMAIL"},{default:i(({row:a})=>[o("p",null,m(a.email),1)]),_:1}),l(r,{label:"PHONE NUMBER",width:"200"},{default:i(({row:a})=>[o("p",null,m(a.phoneNumber),1)]),_:1}),l(r,{label:"GENDER",width:"90"},{default:i(({row:a})=>[o("p",null,m(a.gender),1)]),_:1}),l(r,{label:"ACTION",width:"120",align:"right"},{default:i(({row:a})=>[o("div",H,[l(v,{name:"edit",onClick:h}),l(v,{name:"delete",onClick:J=>x(a)},null,8,["onClick"])])]),_:1})]),_:1},8,["page","limit","data","query"])]),l(N,{name:s(c).email,type:"người dùng","is-loading-delete":s(p),onDelete:E},null,8,["name","is-loading-delete"])],64)}}}),de=q(Q,[["__scopeId","data-v-b2a724d5"]]);export{de as default};
