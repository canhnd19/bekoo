import{_ as F}from"./BaseIcon.vue_vue_type_script_setup_true_lang-2reowm3D.js";import{_ as J}from"./BaseInput-CySznTaA.js";import{d as L,ap as R,l as Q,D as q,y as m,A as W,a3 as G,e as Z,M as I,a4 as ee,o,c as l,a9 as $,f as n,s as _,p as D,a as e,F as y,q as S,n as P,v as A,t as k,be as te,J as E,X as ne,_ as U,aq as se,m as ae,N as ie,a5 as oe}from"./index-BF8YZsyN.js";import{S as le,P as ce,N as re,a as de}from"./swiper-vue-BOV6_l2f.js";import{f as he,c as ue}from"./timestampConverter-C2RkqK1z.js";import"./el-popper-CLZRTZ2t.js";import{h as me}from"./el-popover-Du7isfLj.js";import{_ as K}from"./favicon-BHUZcTbH.js";import{C as ge}from"./index-RVLqj0Kd.js";/* empty css                 */import"./use-form-item-UeCd67b5.js";import"./index-DGKHIVkP.js";import"./index-Co17OX-1.js";const pe="/images/homepage_banner.png",ve={class:"fixed bottom-8 right-8 h-[46px] cursor-pointer sm:bottom-16 sm:right-2"},fe={class:"chat-container"},ke={key:0,class:"mr-2 h-8 w-8 rounded-full"},_e={class:"max-w-[70%]"},be={class:"message"},ye={key:1,class:"ml-2 h-8 w-8 rounded-full"},xe=["src"],Te={key:0,class:"action-button-container"},we={class:"chat-input space-x-4"},Ce=L({__name:"MedicalChatBot",setup(O){const{user:r,isLoggedIn:H}=R(Q()),{userMessage:b}=R(q()),T=m(),v=m(),w=m(1),C=()=>{var t,s;(s=(t=n(v).popperRef)==null?void 0:t.delayHide)==null||s.call(t)},x=m([]),g=m(""),c=m(null),d=m(!1);let a;W(()=>{var s;const t=G();H.value&&t.send({requestType:"Get-Chat-History",data:{userId:(s=r.value.patient)!=null&&s.info?r.value.patient.info.id:r.value.doctor.info.id,pageIndex:w.value,pageSize:20}}),setTimeout(()=>{d.value=!0},1e3)});const B=(t,s)=>{x.value.push({content:t,createdBy:s,time:new Date().getTime()}),I(()=>{c.value&&(c.value.scrollTop=c.value.scrollHeight)})},M=async()=>{var s;const t=c.value;(t==null?void 0:t.scrollTop)===0&&(V.send({requestType:"Get-Chat-History",data:{userId:(s=r.value.patient)!=null&&s.info?r.value.patient.info.id:r.value.doctor.info.id,pageIndex:w.value+1,pageSize:20}}),w.value++)},i=()=>{g.value.trim()!==""&&(N(g.value),B(g.value,"NgÆ°á»i dÃ¹ng"),b.value=g.value,g.value="")},h=()=>{d.value=!1,B("TÃ´i muá»‘n Ä‘áº·t lá»‹ch khÃ¡m","NgÆ°á»i dÃ¹ng"),N("TÃ´i muá»‘n Ä‘áº·t lá»‹ch khÃ¡m")},N=t=>{var f;const s=G(),u={requestType:"Chat",data:{senderId:H.value?(f=r.value.patient)!=null&&f.info?r.value.patient.info.id:r.value.doctor.info.id:"",content:t}};console.log("ğŸš€ ~ handleSendMessage ~ chatMessage:",u),s.send(u)},z=Z(()=>{var t,s,u,f;return H.value&&(((s=(t=r.value.patient)==null?void 0:t.info)==null?void 0:s.linkAvatar)||((f=(u=r.value.doctor)==null?void 0:u.info)==null?void 0:f.linkAvatar))||"/images/avatar-user-default.png"}),V=G();a=V.addListener("message",t=>{var s;if(t.message&&t.message==="Get-Chat-History"){const u=t.value;if(w.value===1)x.value=u,I(()=>{c.value&&(c.value.scrollTop=c.value.scrollHeight)});else{const f=((s=c.value)==null?void 0:s.scrollHeight)||0;x.value=[...u,...x.value],I(()=>{c.value&&(c.value.scrollTop=c.value.scrollHeight-f)})}return}else if(t.message==="Chat"&&t.code===200){t.value&&B(t.value,"Há»‡ thá»‘ng");return}else if(t.message==="Admin-Chat"){B(t.value,"Há»‡ thá»‘ng"),V.send({requestType:"Get-All-Chat",data:{name:""}});return}}),ee(()=>{a&&a()});const Y=()=>{I(()=>{c.value&&(c.value.scrollTop=c.value.scrollHeight)})};return(t,s)=>{const u=F,f=me;return o(),l("div",ve,[$(_(u,{ref_key:"buttonRef",ref:T,name:"chat-bot",size:"40",class:"text-primary"},null,512),[[n(ge),C]]),_(f,{ref_key:"popoverRef",ref:v,"popper-style":{padding:0,borderRadius:"8px"},placement:"left","virtual-ref":n(T),trigger:"click","virtual-triggering":"",width:"400px",onShow:Y},{default:D(()=>[e("div",fe,[s[2]||(s[2]=e("div",{class:"chat-header"},[e("div",{class:"user-info"},[e("div",{class:"avatar rounded-full bg-white p-1"},[e("img",{src:K,alt:"User avatar"})]),e("div",{class:"user-details"},[e("div",{class:"user-name"},"ChÄƒm sÃ³c khÃ¡ch hÃ ng Bekoo"),e("div",{class:"user-status"},"TÆ° Váº¥n Trá»±c Tuyáº¿n")])])],-1)),e("div",{ref_key:"messagesContainer",ref:c,class:"chat-messages",onScroll:M},[(o(!0),l(y,null,S(n(x),(p,X)=>(o(),l("div",{key:X,class:P(["message-wrapper",p.createdBy==="NgÆ°á»i dÃ¹ng"?"user-message":"bot-message"])},[p.createdBy==="Há»‡ thá»‘ng"?(o(),l("div",ke,s[1]||(s[1]=[e("img",{src:K,alt:"User avatar",class:"rounded-full bg-white p-1"},null,-1)]))):A("",!0),e("div",_e,[e("div",be,k(p.content),1),e("div",{class:P(["message-time",[p.createdBy==="NgÆ°á»i dÃ¹ng"?"text-right":"text-left"]])},k(p.createdAt?p.createdAt:("formatRelativeTime"in t?t.formatRelativeTime:n(he))(("convertTimestampToISO"in t?t.convertTimestampToISO:n(ue))(p.time))),3)]),p.createdBy==="NgÆ°á»i dÃ¹ng"?(o(),l("div",ye,[e("img",{src:n(z),alt:"User avatar",class:"rounded-full bg-white p-1"},null,8,xe)])):A("",!0)],2))),128)),n(d)?(o(),l("div",Te,[e("button",{class:"action-button",onClick:h},"TÃ´i muá»‘n Ä‘áº·t lá»‹ch khÃ¡m")])):A("",!0)],544),e("div",we,[$(e("input",{"onUpdate:modelValue":s[0]||(s[0]=p=>E(g)?g.value=p:null),type:"text",placeholder:"Nháº­p ná»™i dung...",onKeyup:ne(i,["enter"])},null,544),[[te,n(g)]]),e("button",{class:"btn-primary",onClick:i},[_(u,{name:"send",size:"20"})])])])]),_:1},8,["virtual-ref"])])}}}),Be=U(Ce,[["__scopeId","data-v-5fa74e94"]]),j=[{icon:"/images/doctor.png",label:"Äáº·t khÃ¡m theo bÃ¡c sÄ©"},{icon:"/images/tele.png",label:"TÆ° váº¥n khÃ¡m bá»‡nh qua video"},{icon:"/images/dat-lich-xet-nghiem.png",label:"Äáº·t lá»‹ch xÃ©t nghiá»‡m"},{icon:"/images/goi_kham.png",label:"GÃ³i khÃ¡m sá»©c khá»e"},{icon:"/images/tiem-chung.png",label:"Äáº·t lá»‹ch tiÃªm chá»§ng"},{icon:"/images/y-te-tai-nha.png",label:"Y táº¿ táº¡i nhÃ "},{icon:"/images/thanhtoanvp.png",label:"Thanh toÃ¡n viá»‡n phÃ­"}],Se=[{icon:"/images/luotdatkham.png",value:"3.0M+",label:"LÆ°á»£t khÃ¡m"},{icon:"/images/bacsi.png",value:"100+",label:"BÃ¡c sÄ©"},{icon:"/images/luottruycapthang.png",value:"850K+",label:"LÆ°á»£t truy cáº­p thÃ¡ng"},{icon:"/images/luottruycapngay.png",value:"28.3K++",label:"LÆ°á»£t truy cáº­p trong ngÃ y"}],He=[{detailFeelPeople:"Äáº·t lá»‹ch xÃ©t nghiá»‡m bÃªn nÃ y ráº¥t gá»n, cÃ³ ngÃ y giá» cá»¥ thá»ƒ luÃ´n lÃªn lÃ  Ä‘Æ°á»£c xÃ©t nghiá»‡m liá»n khÃ´ng rÆ°á»m rÃ  gÃ¬ máº¥y. An tÃ¢m Ä‘áº·t cho gia Ä‘Ã¬nh, cÃ³ cáº£ xÃ©t nghiá»‡m táº­n nhÃ , khÃ´ng máº¥t thá»i gian.",name:"Yáº¿n Chi ",avatar:"/images/feedback2.jpg"},{detailFeelPeople:"Cáº£m Æ¡n Bekoo giÃºp mÃ¬nh vÃ  gia Ä‘Ã¬nh tiáº¿t kiá»‡m thá»i gian vÃ  cÃ´ng sá»©c khi Ä‘i khÃ¡m. Ba mÃ¬nh lá»›n tuá»•i nÃªn máº¯t yáº¿u, Ä‘i khÃ¡m BV Máº¯t á»Ÿ xa lÃªn tá»›i HÃ  ná»™i khÃ¡m cá»±c vá»›i Ä‘Ã´ng nhÆ°ng tá»« bÃ¢y giá» chá»‰ cáº§n Ä‘áº·t khÃ¡m qua Bekoo, khÃ´ng cáº§n xáº¿p hÃ ng chá» Ä‘á»£i.",name:"Má»™c TrÃ ",avatar:"/images/feedback1.jpg"},{detailFeelPeople:"Äáº·t lá»‹ch khÃ¡m qua Bekoo ráº¥t dá»… dÃ ng vÃ  tiá»‡n lá»£i. TÃ´i Ä‘Ã¡nh giÃ¡ cao tÃ­nh nÄƒng thanh toÃ¡n trá»±c tuyáº¿n vÃ  cáº­p nháº­t lá»‹ch sá»­ khÃ¡m bá»‡nh. Giao diá»‡n trá»±c quan, giÃºp tÃ´i dá»… dÃ ng tÃ¬m kiáº¿m vÃ  lá»±a chá»n dá»‹ch vá»¥.",name:"An Nhung",avatar:"/images/feedback6.jpg"},{detailFeelPeople:"TÃ´i ráº¥t hÃ i lÃ²ng vá»›i dá»‹ch vá»¥ Ä‘áº·t lá»‹ch cá»§a Bekoo. á»¨ng dá»¥ng dá»… sá»­ dá»¥ng, giÃºp tÃ´i Ä‘áº·t lá»‹ch khÃ¡m nhanh chÃ³ng mÃ  khÃ´ng cáº§n chá» Ä‘á»£i. Äiá»u tuyá»‡t vá»i lÃ  cÃ³ thá»ƒ chá»n bÃ¡c sÄ© theo nhu cáº§u vÃ  lá»‹ch trÃ¬nh cÃ¡ nhÃ¢n. ",name:"Mai Vy",avatar:"/images/feedback3.jpg"},{detailFeelPeople:"Dá»‹ch vá»¥ Bekoo giÃºp tÃ´i tiáº¿t kiá»‡m nhiá»u thá»i gian nhá» vÃ o tÃ­nh nÄƒng Ä‘áº·t lá»‹ch trá»±c tuyáº¿n. Tá»« khi sá»­ dá»¥ng Bekoo, tÃ´i khÃ´ng cÃ²n pháº£i xáº¿p hÃ ng dÃ i á»Ÿ bá»‡nh viá»‡n ná»¯a. Giao diá»‡n Ä‘Æ¡n giáº£n, dá»… hiá»ƒu, thÃ´ng tin rÃµ rÃ ng vá» cÃ¡c bÃ¡c sÄ© vÃ  dá»‹ch vá»¥.",name:"Máº¡nh HÃ¹ng",avatar:"/images/feedback4.jpg"},{detailFeelPeople:"Bekoo thá»±c sá»± lÃ  má»™t á»©ng dá»¥ng há»¯u Ã­ch trong viá»‡c chÄƒm sÃ³c sá»©c khá»e! TÃ´i áº¥n tÆ°á»£ng vá»›i tÃ­nh nÄƒng nháº¯c nhá»Ÿ tá»± Ä‘á»™ng, giÃºp tÃ´i khÃ´ng bao giá» quÃªn lá»‹ch háº¹n. Há»‡ thá»‘ng Ä‘áº·t lá»‹ch ráº¥t mÆ°á»£t, giao diá»‡n thÃ¢n thiá»‡n. ",name:"RoÃ£n Quyá»n",avatar:"/images/feedback5.jpg"}],Me={class:"relative"},Ie={class:"absolute top-20 w-full"},Ae={class:"carousel"},Ne=["src"],Ve={class:"mt-2 text-center"},Ge={key:1,class:"grid grid-cols-2 gap-8"},Re=["src"],qe={class:"mt-2 text-center"},De={class:"container mt-28"},$e={class:"my-8 grid grid-cols-8 gap-x-12 gap-y-8 sm:grid-cols-2"},Pe=["onClick"],Ke=["src"],je={class:"mt-2 text-center text-[20px]"},Fe={class:"show-more"},Le={key:0,class:"is-loading"},Ee={key:1},Ue={key:2},Oe={class:"container mt-28"},ze={class:"feedback-card"},Ye={class:"mx-auto"},Xe={class:"border-border-table flex items-center justify-center space-x-2 border-t border-solid pt-4"},Je=["src"],Qe={class:"text-base font-semibold"},We={class:"statistics"},Ze={class:"container"},et={class:"statistics-item"},tt=["src"],nt={class:"text-center text-2xl font-bold text-[#24313d]"},st={class:"mt-2 text-center text-[20px] text-[#757575]"},at=L({__name:"HomeView",setup(O){const{isDesktop:r}=R(q()),H=[ce,re],b=m([]),T=m(""),v=m(!1),{department:w}=q(),C=m({pageIndex:1,pageSize:10,totalElements:0,loading:!1}),x=async()=>{if(!(b.value.length>0))try{C.value.loading=!0;const d=await ie.getAllDepartment();b.value=d.value.contentResponse,C.value.loading=!1}catch(d){C.value.loading=!1,console.log(d)}},g=()=>{v.value=!v.value,v.value&&x()},c=d=>{sessionStorage.setItem("department-name",d.name),oe.push({name:"DepartmentDetail",params:{id:d.id}})};return(d,a)=>{const B=J,M=F;return o(),l(y,null,[e("div",Me,[a[4]||(a[4]=se('<div class="marquee bg-[#ffb340] py-4" data-v-5f3230b0><div class="marquee-content font-semibold text-white" data-v-5f3230b0><p data-v-5f3230b0>ğŸ‡ Táº¿t Ä‘Ã£ vá»! Giáº£m GiÃ¡ Äáº¿n 200.000Ä‘ - Vui lÃ²ng Ä‘áº·t lá»‹ch khÃ¡m Ä‘á»ƒ Ä‘Æ°á»£c Æ°u Ä‘Ã£i nÃ y!</p><p data-v-5f3230b0>ğŸ‰ KhÃ¡m sá»©c khá»e Ä‘á»‹nh ká»³ vá»›i giÃ¡ Æ°u Ä‘Ã£i!</p><p data-v-5f3230b0>ğŸ Æ¯u Ä‘Ã£i Ä‘áº·c biá»‡t cho khÃ¡ch hÃ ng má»›i!</p><p data-v-5f3230b0>ğŸ¥ Äáº·t lá»‹ch khÃ¡m trá»±c tuyáº¿n nhanh chÃ³ng vÃ  tiá»‡n lá»£i!</p><p data-v-5f3230b0>ğŸ‡ Táº¿t Ä‘Ã£ vá»! Giáº£m GiÃ¡ Äáº¿n 200.000Ä‘ - Vui lÃ²ng Ä‘áº·t lá»‹ch khÃ¡m Ä‘á»ƒ Ä‘Æ°á»£c Æ°u Ä‘Ã£i nÃ y!</p><p data-v-5f3230b0>ğŸ‰ KhÃ¡m sá»©c khá»e Ä‘á»‹nh ká»³ vá»›i giÃ¡ Æ°u Ä‘Ã£i!</p><p data-v-5f3230b0>ğŸ Æ¯u Ä‘Ã£i Ä‘áº·c biá»‡t cho khÃ¡ch hÃ ng má»›i!</p><p data-v-5f3230b0>ğŸ¥ Äáº·t lá»‹ch khÃ¡m trá»±c tuyáº¿n nhanh chÃ³ng vÃ  tiá»‡n lá»£i!</p><p data-v-5f3230b0>ğŸ‡ Táº¿t Ä‘Ã£ vá»! Giáº£m GiÃ¡ Äáº¿n 200.000Ä‘ - Vui lÃ²ng Ä‘áº·t lá»‹ch khÃ¡m Ä‘á»ƒ Ä‘Æ°á»£c Æ°u Ä‘Ã£i nÃ y!</p><p data-v-5f3230b0>ğŸ‰ KhÃ¡m sá»©c khá»e Ä‘á»‹nh ká»³ vá»›i giÃ¡ Æ°u Ä‘Ã£i!</p><p data-v-5f3230b0>ğŸ Æ¯u Ä‘Ã£i Ä‘áº·c biá»‡t cho khÃ¡ch hÃ ng má»›i!</p><p data-v-5f3230b0>ğŸ¥ Äáº·t lá»‹ch khÃ¡m trá»±c tuyáº¿n nhanh chÃ³ng vÃ  tiá»‡n lá»£i!</p></div></div><img src="'+pe+'" alt="" data-v-5f3230b0>',2)),n(r)?(o(),l(y,{key:0},[e("div",Ie,[a[1]||(a[1]=e("p",{class:"mb-2 text-center text-2xl text-[#11a2f3]"},"Ná»n táº£ng cÃ´ng nghá»‡",-1)),a[2]||(a[2]=e("p",{class:"text-center text-4xl font-bold"},"Káº¿t ná»‘i ngÆ°á»i dÃ¢n vá»›i CÆ¡ sá»Ÿ - Dá»‹ch vá»¥ Y táº¿",-1)),_(B,{modelValue:n(T),"onUpdate:modelValue":a[0]||(a[0]=i=>E(T)?T.value=i:null),placeholder:"TÃ¬m kiáº¿m gÃ³i khÃ¡m",class:"input-search","show-icon":!0},null,8,["modelValue"]),a[3]||(a[3]=e("p",{class:"mt-5 text-center text-xl"},"Äáº·t khÃ¡m nhanh - Láº¥y sá»‘ thá»© tá»± trá»±c tuyáº¿n - TÆ° váº¥n sá»©c khá»e tá»« xa",-1))]),e("div",Ae,[(o(!0),l(y,null,S(n(j),(i,h)=>(o(),l("div",{key:h,class:"carousel-item"},[e("img",{src:i.icon,alt:"",class:"mx-auto w-14"},null,8,Ne),e("p",Ve,k(i.label),1)]))),128))])],64)):(o(),l("div",Ge,[(o(!0),l(y,null,S(n(j),(i,h)=>(o(),l("div",{key:h,class:"carousel-item"},[e("img",{src:i.icon,alt:"",class:"mx-auto w-14"},null,8,Re),e("p",qe,k(i.label),1)]))),128))]))]),e("div",De,[a[5]||(a[5]=e("p",{class:"label"},"CHUYÃŠN KHOA",-1)),e("div",$e,[(o(!0),l(y,null,S(n(v)&&n(b).length>0?n(b):n(w),(i,h)=>(o(),l("div",{key:h,class:"cursor-pointer",onClick:N=>c(i)},[e("img",{src:i.urlImage,alt:"",class:"mx-auto h-20 w-20"},null,8,Ke),e("p",je,k(i.name),1)],8,Pe))),128))]),e("div",{class:"flex items-center justify-center",onClick:g},[e("div",Fe,[n(C).loading?(o(),l("div",Le,[_(M,{name:"loading",class:"text-black"})])):A("",!0),n(v)&&n(b).length>0?(o(),l("p",Ee,"Thu gá»n")):(o(),l("p",Ue,"Xem táº¥t cáº£")),_(M,{name:n(v)&&n(b).length>0?"direction-up":"direction-down",class:"ml-2"},null,8,["name"])])])]),e("div",Oe,[a[6]||(a[6]=e("p",{class:"label"},"Cáº£m nháº­n tá»« khÃ¡ch hÃ ng",-1)),_(n(le),{ref:"{swiperRef}","slides-per-view":n(r)?3:1,"space-between":40,pagination:{type:"fraction"},navigation:!0,modules:H,class:"my-swiper my-8"},{default:D(()=>[(o(!0),l(y,null,S(n(He),(i,h)=>(o(),ae(n(de),{key:h},{default:D(()=>[e("div",ze,[e("div",Ye,[_(M,{name:"icon-feedback",class:"ml-2 flex justify-center text-[#ced3d9]"})]),e("p",null,k(i.detailFeelPeople),1),e("div",Xe,[e("img",{src:i.avatar,alt:"",class:"h-10 w-10 rounded-full object-cover"},null,8,Je),e("p",Qe,k(i.name),1)])])]),_:2},1024))),128))]),_:1},8,["slides-per-view"])]),a[8]||(a[8]=e("div",{class:"bg"},null,-1)),e("div",We,[e("div",Ze,[a[7]||(a[7]=e("p",{class:"label"},"THá»NG KÃŠ",-1)),e("div",et,[(o(!0),l(y,null,S(n(Se),(i,h)=>(o(),l("div",{key:h,class:"cursor-pointer"},[e("img",{src:i.icon,alt:"",class:"mx-auto w-24"},null,8,tt),e("p",nt,k(i.value),1),e("p",st,k(i.label),1)]))),128))])])]),_(Be)],64)}}}),kt=U(at,[["__scopeId","data-v-5f3230b0"]]);export{kt as default};
