import{A as G,bR as J,a4 as Q,V as K,d as D,U as Z,a3 as W,e as $,o as w,c as N,a as E,r as m,n as C,f as e,t as x,s as S,p as u,m as A,L as ee,$ as oe,v as U,h as z,g as j,c0 as se,u as te,b as ae,y as T,a2 as le,W as ne,X as re,Y as ie,ae as q,a1 as de,w as ce,D as ue,G as pe,_ as fe}from"./index-B9wgzEb-.js";import{b as me,e as ve,c as ge,d as he,a as ye,u as be,E as Ce,g as we,f as Ee}from"./el-overlay-COMh2-B9.js";import{F as ke,E as $e,a as Be}from"./el-popper-BpTpdzPW.js";import{u as Le}from"./index-CzFm0fU5.js";const _e=(r,p,n,a)=>{let i={offsetX:0,offsetY:0};const c=g=>{const t=g.clientX,y=g.clientY,{offsetX:h,offsetY:f}=i,b=r.value.getBoundingClientRect(),k=b.left,l=b.top,M=b.width,B=b.height,F=document.documentElement.clientWidth,R=document.documentElement.clientHeight,O=-k+h,Y=-l+f,X=F-k-M+h,L=R-l-B+f,P=o=>{let _=h+o.clientX-t,I=f+o.clientY-y;a!=null&&a.value||(_=Math.min(Math.max(_,O),X),I=Math.min(Math.max(I,Y),L)),i={offsetX:_,offsetY:I},r.value&&(r.value.style.transform=`translate(${K(_)}, ${K(I)})`)},V=()=>{document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",V)};document.addEventListener("mousemove",P),document.addEventListener("mouseup",V)},v=()=>{p.value&&r.value&&p.value.addEventListener("mousedown",c)},d=()=>{p.value&&r.value&&p.value.removeEventListener("mousedown",c)},s=()=>{i={offsetX:0,offsetY:0},r.value&&(r.value.style.transform="none")};return G(()=>{J(()=>{n.value?v():d()})}),Q(()=>{d()}),{resetPosition:s}},H=Symbol("dialogInjectionKey"),De=D({name:"ElDialogContent"}),Me=D({...De,props:me,emits:ve,setup(r,{expose:p}){const n=r,{t:a}=Z(),{Close:i}=se,{dialogRef:c,headerRef:v,bodyId:d,ns:s,style:g}=W(H),{focusTrapRef:t}=W(ke),y=$(()=>[s.b(),s.is("fullscreen",n.fullscreen),s.is("draggable",n.draggable),s.is("align-center",n.alignCenter),{[s.m("center")]:n.center}]),h=ge(t,c),f=$(()=>n.draggable),b=$(()=>n.overflow),{resetPosition:k}=_e(c,v,f,b);return p({resetPosition:k}),(l,M)=>(w(),N("div",{ref:e(h),class:C(e(y)),style:z(e(g)),tabindex:"-1"},[E("header",{ref_key:"headerRef",ref:v,class:C([e(s).e("header"),{"show-close":l.showClose}])},[m(l.$slots,"header",{},()=>[E("span",{role:"heading","aria-level":l.ariaLevel,class:C(e(s).e("title"))},x(l.title),11,["aria-level"])]),l.showClose?(w(),N("button",{key:0,"aria-label":e(a)("el.dialog.close"),class:C(e(s).e("headerbtn")),type:"button",onClick:B=>l.$emit("close")},[S(e(oe),{class:C(e(s).e("close"))},{default:u(()=>[(w(),A(ee(l.closeIcon||e(i))))]),_:1},8,["class"])],10,["aria-label","onClick"])):U("v-if",!0)],2),E("div",{id:e(d),class:C(e(s).e("body"))},[m(l.$slots,"default")],10,["id"]),l.$slots.footer?(w(),N("footer",{key:0,class:C(e(s).e("footer"))},[m(l.$slots,"footer")],2)):U("v-if",!0)],6))}});var Pe=j(Me,[["__file","dialog-content.vue"]]);const Ie=D({name:"ElDialog",inheritAttrs:!1}),Se=D({...Ie,props:he,emits:ye,setup(r,{expose:p}){const n=r,a=te();Le({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},$(()=>!!a.title));const i=ae("dialog"),c=T(),v=T(),d=T(),{visible:s,titleId:g,bodyId:t,style:y,overlayDialogStyle:h,rendered:f,zIndex:b,afterEnter:k,afterLeave:l,beforeLeave:M,handleClose:B,onModalClick:F,onOpenAutoFocus:R,onCloseAutoFocus:O,onCloseRequested:Y,onFocusoutPrevented:X}=be(n,c);le(H,{dialogRef:c,headerRef:v,bodyId:t,ns:i,rendered:f,style:y});const L=we(F),P=$(()=>n.draggable&&!n.fullscreen);return p({visible:s,dialogContentRef:d,resetPosition:()=>{var o;(o=d.value)==null||o.resetPosition()}}),(o,_)=>(w(),A(e(Be),{to:o.appendTo,disabled:o.appendTo!=="body"?!1:!o.appendToBody},{default:u(()=>[S(ne,{name:"dialog-fade",onAfterEnter:e(k),onAfterLeave:e(l),onBeforeLeave:e(M),persisted:""},{default:u(()=>[re(S(e(Ce),{"custom-mask-event":"",mask:o.modal,"overlay-class":o.modalClass,"z-index":e(b)},{default:u(()=>[E("div",{role:"dialog","aria-modal":"true","aria-label":o.title||void 0,"aria-labelledby":o.title?void 0:e(g),"aria-describedby":e(t),class:C(`${e(i).namespace.value}-overlay-dialog`),style:z(e(h)),onClick:e(L).onClick,onMousedown:e(L).onMousedown,onMouseup:e(L).onMouseup},[S(e($e),{loop:"",trapped:e(s),"focus-start-el":"container",onFocusAfterTrapped:e(R),onFocusAfterReleased:e(O),onFocusoutPrevented:e(X),onReleaseRequested:e(Y)},{default:u(()=>[e(f)?(w(),A(Pe,ie({key:0,ref_key:"dialogContentRef",ref:d},o.$attrs,{center:o.center,"align-center":o.alignCenter,"close-icon":o.closeIcon,draggable:e(P),overflow:o.overflow,fullscreen:o.fullscreen,"show-close":o.showClose,title:o.title,"aria-level":o.headerAriaLevel,onClose:e(B)}),q({header:u(()=>[o.$slots.title?m(o.$slots,"title",{key:1}):m(o.$slots,"header",{key:0,close:e(B),titleId:e(g),titleClass:e(i).e("title")})]),default:u(()=>[m(o.$slots,"default")]),_:2},[o.$slots.footer?{name:"footer",fn:u(()=>[m(o.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):U("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[de,e(s)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var Te=j(Se,[["__file","dialog.vue"]]);const Ae=ce(Te),Fe={class:"w-full text-lg font-semibold uppercase text-secondary"},Re={class:"popup-footer"},Oe=D({__name:"BasePopup",props:{name:{default:"popup-root"},width:{default:"600px"},appendBody:{type:Boolean,default:!0},isShowFooter:{type:Boolean,default:!0},top:{default:"5vh"},closeClickModal:{type:Boolean,default:!1},closePressEscape:{type:Boolean,default:!0},padding:{default:"24px"},destroyOnClose:{type:Boolean,default:!1}},emits:["close","open"],setup(r,{expose:p,emit:n}){const a=r,i=n,c=ue(),v=T(),d=$({get(){return Ee(c.popup,t=>t===a.name)!==-1},set(t){c.setOpenPopup(a.name,t)}}),s=()=>{i("open")},g=()=>{i("close")};return p({popupBody:v}),(t,y)=>{const h=Ae;return w(),A(h,{modelValue:e(d),"onUpdate:modelValue":y[0]||(y[0]=f=>pe(d)?d.value=f:null),width:a.width,"append-to-body":a.appendBody,"close-on-press-escape":a.closePressEscape,"close-on-click-modal":a.closeClickModal,top:a.top,"destroy-on-close":t.destroyOnClose,"align-center":"",class:"base-popup",onOpen:s,onClose:g},q({header:u(()=>[E("div",Fe,[m(t.$slots,"title",{},void 0,!0)])]),default:u(()=>[E("div",{ref_key:"popupBody",ref:v,class:"popup-content",style:z({padding:a.padding})},[m(t.$slots,"default",{},void 0,!0)],4)]),_:2},[t.isShowFooter?{name:"footer",fn:u(()=>[E("div",Re,[m(t.$slots,"footer",{},void 0,!0)])]),key:"0"}:void 0]),1032,["modelValue","width","append-to-body","close-on-press-escape","close-on-click-modal","top","destroy-on-close"])}}}),Ue=fe(Oe,[["__scopeId","data-v-fdd9cba0"]]);export{Ue as _};
