import{cf as W,bl as x,cg as M,aC as R,x as F,A as U,a2 as T,ar as _,ad as B,E as D}from"./index-bc8WIROe.js";var V=/\s/;function P(n){for(var t=n.length;t--&&V.test(n.charAt(t)););return t}var $=/^\s+/;function H(n){return n&&n.slice(0,P(n)+1).replace($,"")}var k=NaN,j=/^[-+]0x[0-9a-f]+$/i,w=/^0b[01]+$/i,G=/^0o[0-7]+$/i,K=parseInt;function N(n){if(typeof n=="number")return n;if(W(n))return k;if(x(n)){var t=typeof n.valueOf=="function"?n.valueOf():n;n=x(t)?t+"":t}if(typeof n!="string")return n===0?n:+n;n=H(n);var a=w.test(n);return a||G.test(n)?K(n.slice(2),a?2:8):j.test(n)?k:+n}var C=function(){return M.Date.now()},X="Expected a function",q=Math.max,z=Math.min;function Y(n,t,a){var s,u,f,l,e,o,c=0,v=!1,p=!1,r=!0;if(typeof n!="function")throw new TypeError(X);t=N(t)||0,x(a)&&(v=!!a.leading,p="maxWait"in a,f=p?q(N(a.maxWait)||0,t):f,r="trailing"in a?!!a.trailing:r);function d(i){var m=s,g=u;return s=u=void 0,c=i,l=n.apply(g,m),l}function I(i){return c=i,e=setTimeout(h,t),v?d(i):l}function S(i){var m=i-o,g=i-c,A=t-m;return p?z(A,f-g):A}function b(i){var m=i-o,g=i-c;return o===void 0||m>=t||m<0||p&&g>=f}function h(){var i=C();if(b(i))return y(i);e=setTimeout(h,S(i))}function y(i){return e=void 0,r&&s?d(i):(s=u=void 0,l)}function L(){e!==void 0&&clearTimeout(e),c=0,s=o=u=e=void 0}function O(){return e===void 0?l:y(C())}function E(){var i=C(),m=b(i);if(s=arguments,u=this,o=i,m){if(e===void 0)return I(o);if(p)return clearTimeout(e),e=setTimeout(h,t),d(o)}return e===void 0&&(e=setTimeout(h,t)),l}return E.cancel=L,E.flush=O,E}const Z="update:modelValue",nn="change",en="input",J=n=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(n);function tn(n,{beforeFocus:t,afterFocus:a,beforeBlur:s,afterBlur:u}={}){const f=B(),{emit:l}=f,e=R(),o=F(!1),c=r=>{_(t)&&t(r)||o.value||(o.value=!0,l("focus",r),a==null||a())},v=r=>{var d;_(s)&&s(r)||r.relatedTarget&&((d=e.value)!=null&&d.contains(r.relatedTarget))||(o.value=!1,l("blur",r),u==null||u())},p=()=>{var r,d;(r=e.value)!=null&&r.contains(document.activeElement)&&e.value!==document.activeElement||(d=n.value)==null||d.focus()};return U(e,r=>{r&&r.setAttribute("tabindex","-1")}),T(e,"focus",c,!0),T(e,"blur",v,!0),T(e,"click",p,!0),{isFocused:o,wrapperRef:e,handleFocus:c,handleBlur:v}}function an({afterComposition:n,emit:t}){const a=F(!1),s=e=>{t==null||t("compositionstart",e),a.value=!0},u=e=>{var o;t==null||t("compositionupdate",e);const c=(o=e.target)==null?void 0:o.value,v=c[c.length-1]||"";a.value=!J(v)},f=e=>{t==null||t("compositionend",e),a.value&&(a.value=!1,D(()=>n(e)))};return{isComposing:a,handleComposition:e=>{e.type==="compositionend"?f(e):u(e)},handleCompositionStart:s,handleCompositionUpdate:u,handleCompositionEnd:f}}export{nn as C,en as I,Z as U,tn as a,Y as d,an as u};
