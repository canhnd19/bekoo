import{_ as P,p as z,E as $}from"./el-table-column-vE3Qf7fa.js";import{_ as T}from"./BaseIcon.vue_vue_type_script_setup_true_lang-BP6YW6Xw.js";import{d as S,o as k,m as Y,p as u,I as C,a as n,s,t as o,D as w,f as i,P as O,A as U,y as h,Q as _,c as L,F as N,G as A}from"./index-NYq5Ntnu.js";import"./el-select-BHpi38ps.js";import{D as q}from"./index-BIOmELBf.js";import{u as M}from"./useDateFormat-oNSbvWah.js";import{u as H}from"./useFormatCurrency-DyMudwlN.js";import{_ as R}from"./BasePopup-CZ28Y-7e.js";import{_ as F}from"./BaseButton-CbJCq0-p.js";const G={class:"text-base"},K={class:"flex items-center justify-end space-x-3"},V=S({__name:"PopupConfirmExamined",props:{data:{default:()=>({})},isLoadingButton:{type:Boolean,default:!1}},emits:["cancel","success"],setup(b,{emit:c}){const e=b,f=c;return(d,t)=>{const g=F,m=R;return k(),Y(m,{name:"popup-confirm-examined",width:"480"},{title:u(()=>t[1]||(t[1]=[C(" Xác nhận đã khám ")])),footer:u(()=>[n("div",K,[s(g,{type:"plain",size:"small",class:"w-20"},{default:u(()=>t[2]||(t[2]=[C("Hủy")])),_:1}),s(g,{loading:e.isLoadingButton,size:"small",class:"w-40",onClick:t[0]||(t[0]=v=>f("success",e.data))},{default:u(()=>t[3]||(t[3]=[C("Khám thành công")])),_:1},8,["loading"])])]),default:u(()=>[n("div",null,[n("p",G,"Xác nhận khám thành công bệnh nhân "+o(e.data.patient.info.name),1)])]),_:1})}}}),X={class:"space-y-2 text-lg"},Q={class:"flex items-center justify-end space-x-3"},j=S({__name:"PopupPatientDetail",props:{data:{default:()=>({})}},setup(b){const{setOpenPopup:c}=w(),e=b,f=()=>{O.push({name:"MedicalRecord",params:{id:e.data.patient.id}})};return(d,t)=>{const g=F,m=R;return k(),Y(m,{name:"popup-patient-detail",width:"900"},{title:u(()=>t[1]||(t[1]=[C(" Thông tin bệnh nhân ")])),footer:u(()=>[n("div",Q,[s(g,{type:"plain",size:"small",class:"w-20",onClick:t[0]||(t[0]=v=>i(c)("popup-patient-detail",!1))},{default:u(()=>t[17]||(t[17]=[C("Đóng")])),_:1})])]),default:u(()=>[n("div",X,[n("p",null,[t[2]||(t[2]=n("span",null,"Họ và tên: ",-1)),n("strong",null,o(e.data.patient.info.name),1)]),n("p",null,[t[3]||(t[3]=n("span",null,"Giới tính: ",-1)),n("strong",null,o(e.data.patient.info.gender),1)]),n("p",null,[t[4]||(t[4]=n("span",null,"Ngày sinh: ",-1)),n("strong",null,o(i(M)(e.data.patient.info.dob,"DD/MM/YYYY")),1)]),n("p",null,[t[5]||(t[5]=n("span",null,"Số CCCD: ",-1)),n("strong",null,o(e.data.patient.info.cccd),1)]),n("p",null,[t[6]||(t[6]=n("span",null,"Email: ",-1)),n("strong",null,o(e.data.patient.info.email),1)]),n("p",null,[t[7]||(t[7]=n("span",null,"Số điện thoại: ",-1)),n("strong",null,o(e.data.patient.info.phoneNumber),1)]),n("p",null,[t[8]||(t[8]=n("span",null,"Địa chỉ: ",-1)),n("strong",null,o(e.data.patient.info.province)+" - "+o(e.data.patient.info.district)+" - "+o(e.data.patient.info.commune),1)]),n("p",null,[t[9]||(t[9]=n("span",null,"Địa chỉ cụ thể: ",-1)),n("strong",null,o(e.data.patient.info.aboutAddress),1)]),n("p",null,[t[10]||(t[10]=n("span",null,"Nhóm máu: ",-1)),n("strong",null,o(e.data.patient.bloodType),1)]),n("p",null,[t[11]||(t[11]=n("span",null,"Số bảo hiểm y tế: ",-1)),n("strong",null,o(e.data.patient.healthInsuranceNumber),1)]),t[16]||(t[16]=n("p",{class:"text-xl text-[#ff2e2e]"},"Thông tin người thân bệnh nhân ( trường hợp cần liên hệ khẩn cấp)",-1)),n("p",null,[t[12]||(t[12]=n("span",null,"Họ và tên: ",-1)),n("strong",null,o(e.data.patient.emergencyContacts[0].name),1)]),n("p",null,[t[13]||(t[13]=n("span",null,"Địa chỉ: ",-1)),n("strong",null,o(e.data.patient.emergencyContacts[0].address),1)]),n("p",null,[t[14]||(t[14]=n("span",null,"Số điện thoại: ",-1)),n("strong",null,o(e.data.patient.emergencyContacts[0].phone),1)]),n("p",null,[t[15]||(t[15]=n("span",null,"Mối quan hệ với bệnh nhân: ",-1)),n("strong",null,o(e.data.patient.emergencyContacts[0].relationship),1)]),n("p",{class:"cursor-pointer text-blue-600 underline",onClick:f}," Xem hồ sơ bệnh án của bệnh nhân ")])]),_:1})}}}),W={class:"mr-3 flex items-center justify-end space-x-3"},un=S({__name:"TabAllDays",props:{doctorId:{default:""}},setup(b){const{setOpenPopup:c}=w();U(()=>{m()});const e=h([]),f=h({}),d=h({...q}),t=h(!1),g=b,m=async()=>{try{d.value.loading=!0;const l=g.doctorId,p=await _.getMedicalScheduleAllDay(d.value,l,1);e.value=p.value.contentResponse,d.value.totalElements=p.value.totalElements,d.value.loading=!1}catch(l){d.value.loading=!1,console.log(l)}},v=l=>{d.value.pageSize=l,d.value.pageIndex=1,m()},I=l=>{d.value.pageIndex=l,m()},y=(l,p)=>{f.value=l,c(p==="SUCCESS"?"popup-confirm-examined":"popup-patient-detail")},B=async l=>{try{t.value=!0;const p=l.patient.id;await _.deleteBooking(p),A.success("Khám bệnh nhân thành công"),c("popup-confirm-examined",!1),t.value=!1,m()}catch(p){console.log(p),t.value=!1}};return(l,p)=>{const r=$,x=T,E=P;return k(),L(N,null,[s(E,{page:i(d).pageIndex,"onUpdate:page":p[0]||(p[0]=a=>i(d).pageIndex=a),limit:i(d).pageSize,"onUpdate:limit":p[1]||(p[1]=a=>i(d).pageSize=a),data:i(e),query:i(d),class:"mt-6",label:"người dùng",onPageChange:I,onLimitChange:v},{default:u(()=>[s(r,{type:"index",index:a=>("printIndex"in l?l.printIndex:i(z))(a,i(d)),width:"75",label:"#",align:"center"},null,8,["index"]),s(r,{label:"tên bệnh nhân",width:"200"},{default:u(({row:a})=>[n("p",null,o(a.patient.info.name),1)]),_:1}),s(r,{label:"gói khám",width:"268"},{default:u(({row:a})=>[n("p",null,o(a.specialize.name),1)]),_:1}),s(r,{label:"giá khám"},{default:u(({row:a})=>[n("p",null,o(i(H)(a.specialize.price)),1)]),_:1}),s(r,{label:"thời gian khám",width:"200"},{default:u(({row:a})=>[n("p",null,o(i(M)(a.checkIn,"DD/MM/YYYY HH:mm:ss")),1)]),_:1}),s(r,{label:"trạng thái"},{default:u(({row:a})=>[n("p",null,o(a.status),1)]),_:1}),s(r,{align:"right",label:"hành động"},{default:u(({row:a})=>[n("div",W,[s(x,{name:"tick",onClick:D=>y(a,"SUCCESS")},null,8,["onClick"]),s(x,{name:"eye",onClick:D=>y(a,"VIEW")},null,8,["onClick"])])]),_:1})]),_:1},8,["page","limit","data","query"]),s(j,{data:i(f)},null,8,["data"]),s(V,{data:i(f),"is-loading-button":i(t),onSuccess:B},null,8,["data","is-loading-button"])],64)}}}),J={class:"mr-3 flex items-center justify-end space-x-3"},dn=S({__name:"TabDay",props:{doctorId:{default:""}},setup(b){const{setOpenPopup:c}=w();U(()=>{m()});const e=h({...q}),f=h([]),d=h({}),t=b,g=h(!1),m=async()=>{try{e.value.loading=!0;const l=t.doctorId,p=await _.getMedicalScheduleDay(e.value,l);f.value=p.value.contentResponse,e.value.totalElements=p.value.totalElements,e.value.loading=!1}catch(l){e.value.loading=!1,console.log(l)}},v=l=>{e.value.pageSize=l,e.value.pageIndex=1,m()},I=l=>{e.value.pageIndex=l,m()},y=(l,p)=>{d.value=l,c(p==="SUCCESS"?"popup-confirm-examined":"popup-patient-detail")},B=async l=>{try{g.value=!0;const p=l.patient.id;await _.deleteBooking(p),A.success("Khám bệnh nhân thành công"),c("popup-confirm-examined",!1),g.value=!1,m()}catch(p){console.log(p),g.value=!1}};return(l,p)=>{const r=$,x=T,E=P;return k(),L(N,null,[s(E,{page:i(e).pageIndex,"onUpdate:page":p[0]||(p[0]=a=>i(e).pageIndex=a),limit:i(e).pageSize,"onUpdate:limit":p[1]||(p[1]=a=>i(e).pageSize=a),data:i(f),query:i(e),class:"mt-6",label:"bệnh nhân",onPageChange:I,onLimitChange:v},{default:u(()=>[s(r,{type:"index",index:a=>("printIndex"in l?l.printIndex:i(z))(a,i(e)),width:"75",label:"#",align:"center"},null,8,["index"]),s(r,{label:"tên bệnh nhân",width:"200"},{default:u(({row:a})=>[n("p",null,o(a.patient.info.name),1)]),_:1}),s(r,{label:"gói khám"},{default:u(({row:a})=>[n("p",null,o(a.specialize.name),1)]),_:1}),s(r,{label:"mô tả"},{default:u(({row:a})=>[n("p",null,o(a.specialize.description),1)]),_:1}),s(r,{label:"giá khám"},{default:u(({row:a})=>[n("p",null,o(i(H)(a.specialize.price)),1)]),_:1}),s(r,{label:"thời gian khám",width:"200"},{default:u(({row:a})=>[n("p",null,o(i(M)(a.checkIn,"DD/MM/YYYY HH:mm:ss")),1)]),_:1}),s(r,{label:"trạng thái"},{default:u(({row:a})=>[n("p",null,o(a.status),1)]),_:1}),s(r,{align:"right",label:"hành động"},{default:u(({row:a})=>[n("div",J,[s(x,{name:"tick",onClick:D=>y(a,"SUCCESS")},null,8,["onClick"]),s(x,{name:"eye",onClick:D=>y(a,"VIEW")},null,8,["onClick"])])]),_:1})]),_:1},8,["page","limit","data","query"]),s(j,{data:i(d)},null,8,["data"]),s(V,{data:i(d),"is-loading-button":i(g),onSuccess:B},null,8,["data","is-loading-button"])],64)}}});export{dn as _,un as a};
