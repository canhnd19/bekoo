import{_ as y,p as I,E as N}from"./BasePopup-0z7mCBbB.js";import{_ as A}from"./BaseIcon.vue_vue_type_script_setup_true_lang-2KUpWumk.js";import{d as B,v as C,x as u,y as V,z as v,o as D,c as T,a as o,q as s,f as l,m as i,F as k,E as M,A as R,t as m,_ as q}from"./index-CEt8ap1D.js";import"./el-select-EhrHRoGi.js";import{_ as z}from"./BaseButton-BiZZtvq_.js";import{_ as L}from"./BaseInput-D6JdsdLB.js";import{D as O}from"./index-Dh1zF_J0.js";import{_ as P}from"./PopupConfirmDeleteUser.vue_vue_type_script_setup_true_lang-BNwxLYJh.js";import"./el-scrollbar-D3HEHJcV.js";import"./el-popper-iFOlLOCr.js";import"./use-form-item-CmQ7KHzz.js";import"./el-input-BFDgVOhq.js";import"./refs-3EpWAYDS.js";import"./castArray-C8upieRi.js";const S={class:"rounded-lg p-4"},F={class:"flex items-start justify-between"},$={class:"flex items-center justify-end space-x-3"},j=B({__name:"UserView",setup(G){const{setOpenPopup:_}=C(),t=u({...O,search:""}),f=u([]),c=u({}),p=u(!1);V(()=>{d()});const d=async()=>{try{t.value.loading=!0;const a=await v.getAllUser(t.value);f.value=a.value.contentResponse,t.value.totalElements=a.value.totalElements,t.value.loading=!1}catch(a){t.value.loading=!1,console.log(a)}},E=()=>{},x=a=>{c.value=a,_("popup-confirm-delete-user")},U=async()=>{try{p.value=!0;const a=await v.deteteUser([c.value.id]);M.success(a.message),_("popup-confirm-delete-user",!1),p.value=!1,d()}catch(a){p.value=!1,console.log(a)}};return(a,n)=>{const h=L,b=z,r=N,g=A,w=y;return D(),T(k,null,[o("div",S,[o("div",F,[s(h,{modelValue:l(t).search,"onUpdate:modelValue":n[0]||(n[0]=e=>l(t).search=e),class:"input-search","show-icon":!0},null,8,["modelValue"]),s(b,{size:"small",class:"w-20"},{default:i(()=>n[3]||(n[3]=[R("Add")])),_:1})]),s(w,{page:l(t).pageIndex,"onUpdate:page":n[1]||(n[1]=e=>l(t).pageIndex=e),limit:l(t).pageSize,"onUpdate:limit":n[2]||(n[2]=e=>l(t).pageSize=e),data:l(f),query:l(t),class:"mt-6",label:"user",onPageChange:d,onLimitChange:d},{default:i(()=>[s(r,{type:"index",index:e=>("printIndex"in a?a.printIndex:l(I))(e,l(t)),label:"#",align:"center"},null,8,["index"]),s(r,{label:"NAME"},{default:i(({row:e})=>[o("p",null,m(e.name),1)]),_:1}),s(r,{label:"EMAIL"},{default:i(({row:e})=>[o("p",null,m(e.email),1)]),_:1}),s(r,{label:"PHONE NUMBER",width:"200"},{default:i(({row:e})=>[o("p",null,m(e.phoneNumber),1)]),_:1}),s(r,{label:"GENDER",width:"90"},{default:i(({row:e})=>[o("p",null,m(e.gender),1)]),_:1}),s(r,{label:"ACTION",width:"120",align:"right"},{default:i(({row:e})=>[o("div",$,[s(g,{name:"edit",onClick:E}),s(g,{name:"delete",onClick:H=>x(e)},null,8,["onClick"])])]),_:1})]),_:1},8,["page","limit","data","query"])]),s(P,{email:l(c).email,"is-loading-delete":l(p),onDelete:U},null,8,["email","is-loading-delete"])],64)}}}),ie=q(j,[["__scopeId","data-v-ded797f2"]]);export{ie as default};
