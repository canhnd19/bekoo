var K=Object.defineProperty;var O=(r,e,s)=>e in r?K(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s;var f=(r,e,s)=>O(r,typeof e!="symbol"?e+"":e,s);import{_ as I}from"./BaseIcon.vue_vue_type_script_setup_true_lang-Dk_E2eQT.js";import{_ as q}from"./BaseInput-C_q9Unmp.js";import{d as $,ah as F,l as W,y as v,A as P,M as D,z as j,o,c,$ as E,f as a,s as k,p as A,a as t,F as b,q as C,n as U,v as R,t as y,bc as z,R as J,_ as H,D as L,ai as Y,J as Q,m as X,N as Z,U as ee}from"./index-DXwo3dST.js";import{S as te,P as se,N as ne,a as ie}from"./swiper-vue-CFuOuMGY.js";import"./el-popper-BpZrbxzR.js";import{h as oe}from"./el-popover-C2WK9II3.js";import{_ as N}from"./favicon-BHUZcTbH.js";import{C as ae}from"./index-B22TPO_9.js";/* empty css                 */import"./use-form-item-NlqCf7-L.js";import"./index-CNFpyTCL.js";import"./index-DAPEPXKC.js";const ce="/images/homepage_banner.png";function le(r){return typeof r!="string"?r:r.replace(/[\u0000-\u001F\u007F-\u009F]/g,e=>e===`
`?"\\n":e==="\r"?"\\r":e==="	"?"\\t":e==="\b"?"\\b":e==="\f"?"\\f":"")}function re(r){try{return JSON.parse(r)}catch(e){try{const s=le(r);return JSON.parse(s)}catch{throw e}}}class he{constructor(e){f(this,"url");f(this,"socket");f(this,"isConnected");f(this,"reconnectAttempts");f(this,"maxReconnectAttempts");f(this,"reconnectInterval");f(this,"listeners");f(this,"pendingMessages");this.url=e,this.socket=null,this.isConnected=!1,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectInterval=3e3,this.listeners={},this.pendingMessages=[],this.connect()}connect(){try{this.socket=new WebSocket(this.url),this.socket.onopen=e=>{console.log("WebSocket connection established"),this.isConnected=!0,this.reconnectAttempts=0,this.pendingMessages.length>0&&(this.pendingMessages.forEach(s=>this.send(s)),this.pendingMessages=[]),this.notifyListeners("connect",e)},this.socket.onmessage=e=>{try{const s=re(e.data);console.log("Message from server:",s),this.notifyListeners("message",s)}catch(s){console.error("Error processing message:",s),this.notifyListeners("error",{type:"parse_error",error:s,rawData:e.data})}},this.socket.onclose=e=>{this.isConnected=!1,console.log(`WebSocket connection closed: ${e.code} ${e.reason}`),this.notifyListeners("close",e),this.reconnectAttempts<this.maxReconnectAttempts?(this.reconnectAttempts++,console.log(`Trying to reconnect (${this.reconnectAttempts}/${this.maxReconnectAttempts})...`),setTimeout(()=>this.connect(),this.reconnectInterval)):console.error("Max reconnect attempts reached. Please refresh the page.")},this.socket.onerror=e=>{console.error("WebSocket Error:",e),this.notifyListeners("error",e)}}catch(e){console.error("Unable to create WebSocket connection:",e)}}send(e){if(!this.isConnected){this.pendingMessages.push(e),console.warn("WebSocket not connected yet. Message will be sent after connection.");return}try{this.socket&&this.socket.send(JSON.stringify(e))}catch(s){console.error("Error sending WebSocket message:",s)}}addListener(e,s){return this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(s),()=>{if(this.listeners[e]){const d=this.listeners[e].indexOf(s);d!==-1&&this.listeners[e].splice(d,1)}}}notifyListeners(e,s){this.listeners[e]&&this.listeners[e].forEach(d=>d(s))}disconnect(){this.socket&&this.isConnected&&this.socket.close(1e3,"Disconnect from client"),this.isConnected=!1,this.listeners={},this.pendingMessages=[],this.reconnectAttempts=0}getConnectionStatus(){return this.isConnected}}const B=new he("ws://localhost:8083/chat");B.addListener("connect",()=>{console.log("Connected to WebSocket server")});const de={class:"fixed bottom-8 right-8 h-[46px] cursor-pointer sm:bottom-16 sm:right-2"},ue={class:"chat-container"},me={key:0,class:"bot-avatar"},pe={class:"message"},ge={key:0,class:"action-button-container"},ve={class:"chat-input space-x-4"},fe=$({__name:"MedicalChatBot",setup(r){const{user:e}=F(W()),s=v(),d=v(),T=()=>{var h,l;(l=(h=a(d).popperRef)==null?void 0:h.delayHide)==null||l.call(h)},g=v([]),_=v(""),u=v(null),S=v(!1);P(()=>{setTimeout(()=>{x("Báº¡n cáº§n Ä‘Äƒng kÃ½ Ä‘áº·t lá»‹ch khÃ¡m vÃ o hÃ´m nÃ o áº¡?","bot"),S.value=!0},1e3)});const x=(h,l)=>{g.value.push({text:h,sender:l,timestamp:new Date}),D(()=>{u.value&&(u.value.scrollTop=u.value.scrollHeight)})},M=()=>{_.value.trim()!==""&&(i(_.value),x(_.value,"user"),_.value="")},m=()=>{S.value=!1,x("TÃ´i muá»‘n Ä‘áº·t lá»‹ch khÃ¡m","user"),setTimeout(()=>{x("Bekoo Ä‘Ã£ tiáº¿p nháº­n thÃ´ng tin vÃ  Ä‘ang káº¿t ná»‘i vá»›i nhÃ¢n viÃªn há»— trá»£, báº¡n vui lÃ²ng chá» trong giÃ¢y lÃ¡t.","bot")},1e3),i("TÃ´i muá»‘n Ä‘áº·t lá»‹ch khÃ¡m")};j(g,()=>{D(()=>{u.value&&(u.value.scrollTop=u.value.scrollHeight)})});const i=h=>{var n;const l={type:1,senderId:(n=e.value.patient)!=null&&n.info?e.value.patient.info.id:e.value.doctor.info.id,adminStatus:"ON",content:h,timestamp:new Date().getTime()};B.send(l)};return B.addListener("message",h=>{console.log("Received data from BE:",h.botResponse),console.log(" typeof data",typeof h),x(h.botResponse,"bot")}),(h,l)=>{const n=I,p=oe;return o(),c("div",de,[E(k(n,{ref_key:"buttonRef",ref:s,name:"chat-bot",size:"40",class:"text-primary"},null,512),[[a(ae),T]]),k(p,{ref_key:"popoverRef",ref:d,"popper-style":{padding:0,borderRadius:"8px"},placement:"left","virtual-ref":s.value,trigger:"click","virtual-triggering":"",width:"400px"},{default:A(()=>[t("div",ue,[l[2]||(l[2]=t("div",{class:"chat-header"},[t("div",{class:"user-info"},[t("div",{class:"avatar rounded-full bg-white p-1"},[t("img",{src:N,alt:"User avatar"})]),t("div",{class:"user-details"},[t("div",{class:"user-name"},"ChÄƒm sÃ³c khÃ¡ch hÃ ng Bekoo"),t("div",{class:"user-status"},"TÆ° Váº¥n Trá»±c Tuyáº¿n")])])],-1)),t("div",{ref_key:"messagesContainer",ref:u,class:"chat-messages"},[(o(!0),c(b,null,C(g.value,(w,G)=>(o(),c("div",{key:G,class:U(["message-wrapper",w.sender==="user"?"user-message":"bot-message"])},[w.sender==="bot"?(o(),c("div",me,l[1]||(l[1]=[t("img",{src:N,alt:"User avatar",class:"rounded-full bg-white p-1"},null,-1)]))):R("",!0),t("div",pe,y(w.text),1)],2))),128)),S.value?(o(),c("div",ge,[t("button",{class:"action-button",onClick:m},"Äáº·t lá»‹ch khÃ¡m má»›i")])):R("",!0)],512),t("div",ve,[E(t("input",{"onUpdate:modelValue":l[0]||(l[0]=w=>_.value=w),type:"text",placeholder:"Nháº­p ná»™i dung...",onKeyup:J(M,["enter"])},null,544),[[z,_.value]]),t("button",{class:"btn-primary",onClick:M},[k(n,{name:"send",size:"20"})])])])]),_:1},8,["virtual-ref"])])}}}),ke=H(fe,[["__scopeId","data-v-5f88c40d"]]),V=[{icon:"/images/doctor.png",label:"Äáº·t khÃ¡m theo bÃ¡c sÄ©"},{icon:"/images/tele.png",label:"TÆ° váº¥n khÃ¡m bá»‡nh qua video"},{icon:"/images/dat-lich-xet-nghiem.png",label:"Äáº·t lá»‹ch xÃ©t nghiá»‡m"},{icon:"/images/goi_kham.png",label:"GÃ³i khÃ¡m sá»©c khá»e"},{icon:"/images/tiem-chung.png",label:"Äáº·t lá»‹ch tiÃªm chá»§ng"},{icon:"/images/y-te-tai-nha.png",label:"Y táº¿ táº¡i nhÃ "},{icon:"/images/thanhtoanvp.png",label:"Thanh toÃ¡n viá»‡n phÃ­"}],_e=[{icon:"/images/luotdatkham.png",value:"3.0M+",label:"LÆ°á»£t khÃ¡m"},{icon:"/images/bacsi.png",value:"100+",label:"BÃ¡c sÄ©"},{icon:"/images/luottruycapthang.png",value:"850K+",label:"LÆ°á»£t truy cáº­p thÃ¡ng"},{icon:"/images/luottruycapngay.png",value:"28.3K++",label:"LÆ°á»£t truy cáº­p trong ngÃ y"}],be=[{detailFeelPeople:"Äáº·t lá»‹ch xÃ©t nghiá»‡m bÃªn nÃ y ráº¥t gá»n, cÃ³ ngÃ y giá» cá»¥ thá»ƒ luÃ´n lÃªn lÃ  Ä‘Æ°á»£c xÃ©t nghiá»‡m liá»n khÃ´ng rÆ°á»m rÃ  gÃ¬ máº¥y. An tÃ¢m Ä‘áº·t cho gia Ä‘Ã¬nh, cÃ³ cáº£ xÃ©t nghiá»‡m táº­n nhÃ , khÃ´ng máº¥t thá»i gian.",name:"Yáº¿n Chi ",avatar:"/images/feedback2.jpg"},{detailFeelPeople:"Cáº£m Æ¡n Bekoo giÃºp mÃ¬nh vÃ  gia Ä‘Ã¬nh tiáº¿t kiá»‡m thá»i gian vÃ  cÃ´ng sá»©c khi Ä‘i khÃ¡m. Ba mÃ¬nh lá»›n tuá»•i nÃªn máº¯t yáº¿u, Ä‘i khÃ¡m BV Máº¯t á»Ÿ xa lÃªn tá»›i HÃ  ná»™i khÃ¡m cá»±c vá»›i Ä‘Ã´ng nhÆ°ng tá»« bÃ¢y giá» chá»‰ cáº§n Ä‘áº·t khÃ¡m qua Bekoo, khÃ´ng cáº§n xáº¿p hÃ ng chá» Ä‘á»£i.",name:"Má»™c TrÃ ",avatar:"/images/feedback1.jpg"},{detailFeelPeople:"Äáº·t lá»‹ch khÃ¡m qua Bekoo ráº¥t dá»… dÃ ng vÃ  tiá»‡n lá»£i. TÃ´i Ä‘Ã¡nh giÃ¡ cao tÃ­nh nÄƒng thanh toÃ¡n trá»±c tuyáº¿n vÃ  cáº­p nháº­t lá»‹ch sá»­ khÃ¡m bá»‡nh. Giao diá»‡n trá»±c quan, giÃºp tÃ´i dá»… dÃ ng tÃ¬m kiáº¿m vÃ  lá»±a chá»n dá»‹ch vá»¥.",name:"An Nhung",avatar:"/images/feedback6.jpg"},{detailFeelPeople:"TÃ´i ráº¥t hÃ i lÃ²ng vá»›i dá»‹ch vá»¥ Ä‘áº·t lá»‹ch cá»§a Bekoo. á»¨ng dá»¥ng dá»… sá»­ dá»¥ng, giÃºp tÃ´i Ä‘áº·t lá»‹ch khÃ¡m nhanh chÃ³ng mÃ  khÃ´ng cáº§n chá» Ä‘á»£i. Äiá»u tuyá»‡t vá»i lÃ  cÃ³ thá»ƒ chá»n bÃ¡c sÄ© theo nhu cáº§u vÃ  lá»‹ch trÃ¬nh cÃ¡ nhÃ¢n. ",name:"Mai Vy",avatar:"/images/feedback3.jpg"},{detailFeelPeople:"Dá»‹ch vá»¥ Bekoo giÃºp tÃ´i tiáº¿t kiá»‡m nhiá»u thá»i gian nhá» vÃ o tÃ­nh nÄƒng Ä‘áº·t lá»‹ch trá»±c tuyáº¿n. Tá»« khi sá»­ dá»¥ng Bekoo, tÃ´i khÃ´ng cÃ²n pháº£i xáº¿p hÃ ng dÃ i á»Ÿ bá»‡nh viá»‡n ná»¯a. Giao diá»‡n Ä‘Æ¡n giáº£n, dá»… hiá»ƒu, thÃ´ng tin rÃµ rÃ ng vá» cÃ¡c bÃ¡c sÄ© vÃ  dá»‹ch vá»¥.",name:"Máº¡nh HÃ¹ng",avatar:"/images/feedback4.jpg"},{detailFeelPeople:"Bekoo thá»±c sá»± lÃ  má»™t á»©ng dá»¥ng há»¯u Ã­ch trong viá»‡c chÄƒm sÃ³c sá»©c khá»e! TÃ´i áº¥n tÆ°á»£ng vá»›i tÃ­nh nÄƒng nháº¯c nhá»Ÿ tá»± Ä‘á»™ng, giÃºp tÃ´i khÃ´ng bao giá» quÃªn lá»‹ch háº¹n. Há»‡ thá»‘ng Ä‘áº·t lá»‹ch ráº¥t mÆ°á»£t, giao diá»‡n thÃ¢n thiá»‡n. ",name:"RoÃ£n Quyá»n",avatar:"/images/feedback5.jpg"}],ye={class:"relative"},xe={class:"absolute top-20 w-full"},we={class:"carousel"},Ce=["src"],Te={class:"mt-2 text-center"},Se={key:1,class:"grid grid-cols-2 gap-8"},Me=["src"],Be={class:"mt-2 text-center"},Ae={class:"container mt-28"},Re={class:"my-8 grid grid-cols-8 gap-x-12 gap-y-8 sm:grid-cols-2"},De=["onClick"],Ee=["src"],Le={class:"mt-2 text-center text-[20px]"},Ne={class:"show-more"},Ve={key:0,class:"is-loading"},Ie={key:1},$e={key:2},Fe={class:"container mt-28"},Pe={class:"feedback-card"},He={class:"mx-auto"},Ge={class:"border-border-table flex items-center justify-center space-x-2 border-t border-solid pt-4"},Ke=["src"],Oe={class:"text-base font-semibold"},qe={class:"statistics"},We={class:"container"},je={class:"statistics-item"},Ue=["src"],ze={class:"text-center text-2xl font-bold text-[#24313d]"},Je={class:"mt-2 text-center text-[20px] text-[#757575]"},Ye=$({__name:"HomeView",setup(r){const{isDesktop:e}=F(L()),s=[se,ne],d=v([]),T=v(""),g=v(!1);P(()=>{try{B.connect()}catch(m){console.error("Failed to connect to Socket.IO server",m)}});const{department:_}=L(),u=v({pageIndex:1,pageSize:40,totalElements:0,loading:!1}),S=async()=>{if(!(d.value.length>0))try{u.value.loading=!0;const m=await Z.getAllDepartment();d.value=m.value.contentResponse,u.value.loading=!1}catch(m){u.value.loading=!1,console.log(m)}},x=()=>{g.value=!g.value,g.value&&S()},M=m=>{sessionStorage.setItem("department-name",m.name),ee.push({name:"DepartmentDetail",params:{id:m.id}})};return(m,i)=>{const h=q,l=I;return o(),c(b,null,[t("div",ye,[i[4]||(i[4]=Y('<div class="marquee bg-[#ffb340] py-4" data-v-41cefc42><div class="marquee-content font-semibold text-white" data-v-41cefc42><p data-v-41cefc42>ğŸ‡ Táº¿t Ä‘Ã£ vá»! Giáº£m GiÃ¡ Äáº¿n 200.000Ä‘ - Vui lÃ²ng Ä‘áº·t lá»‹ch khÃ¡m Ä‘á»ƒ Ä‘Æ°á»£c Æ°u Ä‘Ã£i nÃ y!</p><p data-v-41cefc42>ğŸ‰ KhÃ¡m sá»©c khá»e Ä‘á»‹nh ká»³ vá»›i giÃ¡ Æ°u Ä‘Ã£i!</p><p data-v-41cefc42>ğŸ Æ¯u Ä‘Ã£i Ä‘áº·c biá»‡t cho khÃ¡ch hÃ ng má»›i!</p><p data-v-41cefc42>ğŸ¥ Äáº·t lá»‹ch khÃ¡m trá»±c tuyáº¿n nhanh chÃ³ng vÃ  tiá»‡n lá»£i!</p><p data-v-41cefc42>ğŸ‡ Táº¿t Ä‘Ã£ vá»! Giáº£m GiÃ¡ Äáº¿n 200.000Ä‘ - Vui lÃ²ng Ä‘áº·t lá»‹ch khÃ¡m Ä‘á»ƒ Ä‘Æ°á»£c Æ°u Ä‘Ã£i nÃ y!</p><p data-v-41cefc42>ğŸ‰ KhÃ¡m sá»©c khá»e Ä‘á»‹nh ká»³ vá»›i giÃ¡ Æ°u Ä‘Ã£i!</p><p data-v-41cefc42>ğŸ Æ¯u Ä‘Ã£i Ä‘áº·c biá»‡t cho khÃ¡ch hÃ ng má»›i!</p><p data-v-41cefc42>ğŸ¥ Äáº·t lá»‹ch khÃ¡m trá»±c tuyáº¿n nhanh chÃ³ng vÃ  tiá»‡n lá»£i!</p><p data-v-41cefc42>ğŸ‡ Táº¿t Ä‘Ã£ vá»! Giáº£m GiÃ¡ Äáº¿n 200.000Ä‘ - Vui lÃ²ng Ä‘áº·t lá»‹ch khÃ¡m Ä‘á»ƒ Ä‘Æ°á»£c Æ°u Ä‘Ã£i nÃ y!</p><p data-v-41cefc42>ğŸ‰ KhÃ¡m sá»©c khá»e Ä‘á»‹nh ká»³ vá»›i giÃ¡ Æ°u Ä‘Ã£i!</p><p data-v-41cefc42>ğŸ Æ¯u Ä‘Ã£i Ä‘áº·c biá»‡t cho khÃ¡ch hÃ ng má»›i!</p><p data-v-41cefc42>ğŸ¥ Äáº·t lá»‹ch khÃ¡m trá»±c tuyáº¿n nhanh chÃ³ng vÃ  tiá»‡n lá»£i!</p></div></div><img src="'+ce+'" alt="" data-v-41cefc42>',2)),a(e)?(o(),c(b,{key:0},[t("div",xe,[i[1]||(i[1]=t("p",{class:"mb-2 text-center text-2xl text-[#11a2f3]"},"Ná»n táº£ng cÃ´ng nghá»‡",-1)),i[2]||(i[2]=t("p",{class:"text-center text-4xl font-bold"},"Káº¿t ná»‘i ngÆ°á»i dÃ¢n vá»›i CÆ¡ sá»Ÿ - Dá»‹ch vá»¥ Y táº¿",-1)),k(h,{modelValue:a(T),"onUpdate:modelValue":i[0]||(i[0]=n=>Q(T)?T.value=n:null),placeholder:"TÃ¬m kiáº¿m gÃ³i khÃ¡m",class:"input-search","show-icon":!0},null,8,["modelValue"]),i[3]||(i[3]=t("p",{class:"mt-5 text-center text-xl"},"Äáº·t khÃ¡m nhanh - Láº¥y sá»‘ thá»© tá»± trá»±c tuyáº¿n - TÆ° váº¥n sá»©c khá»e tá»« xa",-1))]),t("div",we,[(o(!0),c(b,null,C(a(V),(n,p)=>(o(),c("div",{key:p,class:"carousel-item"},[t("img",{src:n.icon,alt:"",class:"mx-auto w-14"},null,8,Ce),t("p",Te,y(n.label),1)]))),128))])],64)):(o(),c("div",Se,[(o(!0),c(b,null,C(a(V),(n,p)=>(o(),c("div",{key:p,class:"carousel-item"},[t("img",{src:n.icon,alt:"",class:"mx-auto w-14"},null,8,Me),t("p",Be,y(n.label),1)]))),128))]))]),t("div",Ae,[i[5]||(i[5]=t("p",{class:"label"},"CHUYÃŠN KHOA",-1)),t("div",Re,[(o(!0),c(b,null,C(a(g)&&a(d).length>0?a(d):a(_),(n,p)=>(o(),c("div",{key:p,class:"cursor-pointer",onClick:w=>M(n)},[t("img",{src:n.urlImage,alt:"",class:"mx-auto h-20 w-20"},null,8,Ee),t("p",Le,y(n.name),1)],8,De))),128))]),t("div",{class:"flex items-center justify-center",onClick:x},[t("div",Ne,[a(u).loading?(o(),c("div",Ve,[k(l,{name:"loading",class:"text-black"})])):R("",!0),a(g)&&a(d).length>0?(o(),c("p",Ie,"Thu gá»n")):(o(),c("p",$e,"Xem táº¥t cáº£")),k(l,{name:a(g)&&a(d).length>0?"direction-up":"direction-down",class:"ml-2"},null,8,["name"])])])]),t("div",Fe,[i[6]||(i[6]=t("p",{class:"label"},"Cáº£m nháº­n tá»« khÃ¡ch hÃ ng",-1)),k(a(te),{ref:"{swiperRef}","slides-per-view":a(e)?3:1,"space-between":40,pagination:{type:"fraction"},navigation:!0,modules:s,class:"my-swiper my-8"},{default:A(()=>[(o(!0),c(b,null,C(a(be),(n,p)=>(o(),X(a(ie),{key:p},{default:A(()=>[t("div",Pe,[t("div",He,[k(l,{name:"icon-feedback",class:"ml-2 flex justify-center text-[#ced3d9]"})]),t("p",null,y(n.detailFeelPeople),1),t("div",Ge,[t("img",{src:n.avatar,alt:"",class:"h-10 w-10 rounded-full object-cover"},null,8,Ke),t("p",Oe,y(n.name),1)])])]),_:2},1024))),128))]),_:1},8,["slides-per-view"])]),i[8]||(i[8]=t("div",{class:"bg"},null,-1)),t("div",qe,[t("div",We,[i[7]||(i[7]=t("p",{class:"label"},"THá»NG KÃŠ",-1)),t("div",je,[(o(!0),c(b,null,C(a(_e),(n,p)=>(o(),c("div",{key:p,class:"cursor-pointer"},[t("img",{src:n.icon,alt:"",class:"mx-auto w-24"},null,8,Ue),t("p",ze,y(n.value),1),t("p",Je,y(n.label),1)]))),128))])])]),k(ke)],64)}}}),ht=H(Ye,[["__scopeId","data-v-41cefc42"]]);export{ht as default};
