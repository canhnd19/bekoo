import{_ as E,p as C,E as B}from"./el-table-column-Rzbo1HuB.js";import{_ as A}from"./BaseIcon.vue_vue_type_script_setup_true_lang-C2di59ZF.js";import{d as S,D as V,y as u,A as D,E as f,o as L,c as N,a as l,s as o,f as n,p as r,F as T,G as k,t as d,_ as z}from"./index-BNZlxmQ0.js";import"./el-select-vHSKAgd4.js";import{_ as P}from"./BaseInput-hJvsFGpb.js";import{D as q}from"./index-BIOmELBf.js";import{_ as F}from"./PopupConfirmDelete.vue_vue_type_script_setup_true_lang-BpDTHdY3.js";import"./BasePagination-DGJr8xV6.js";import"./el-scrollbar-D5ltqoJX.js";import"./el-popper-xrLYVjRb.js";import"./use-form-item-BReAePHK.js";import"./useFormatNumber-C6QqUNKY.js";import"./isEqual-CntcYAL8.js";import"./index-BUfDMWk8.js";import"./index-DBJhGBzw.js";import"./index-w0NRqLz0.js";import"./BaseLoading-591jiTyX.js";import"./index-CnFKH6a2.js";import"./castArray-DmjPmPnq.js";import"./scroll-CgPn9xs0.js";/* empty css                 */import"./BasePopup-Domahjwl.js";import"./el-overlay-Cm8CHfGq.js";import"./BaseButton-DsUk9OJb.js";const M={class:"rounded-lg p-4"},R={class:"flex items-start justify-between"},$={class:"flex items-center justify-end space-x-3"},j=S({__name:"UserView",setup(G){const{setOpenPopup:g}=V(),e=u({...q,name:""}),_=u([]),c=u({}),m=u(!1);D(()=>{p()});const p=async()=>{try{e.value.loading=!0;const t=await f.getAllUser(e.value);_.value=t.value.contentResponse,e.value.totalElements=t.value.totalElements,e.value.loading=!1}catch(t){e.value.loading=!1,console.log(t)}},h=t=>{c.value=t,g("popup-confirm-delete")},v=async()=>{try{m.value=!0;const t=await f.deteteUser([c.value.id]);k.success(t.message),g("popup-confirm-delete",!1),m.value=!1,p()}catch(t){m.value=!1,console.log(t)}},x=t=>{e.value.pageSize=t,e.value.pageIndex=1,p()},b=t=>{e.value.pageIndex=t,p()},I=()=>{e.value={...e.value,pageIndex:1,pageSize:10,totalElements:0},p()};return(t,s)=>{const y=P,i=B,U=A,w=E;return L(),N(T,null,[l("div",M,[l("div",R,[o(y,{modelValue:n(e).name,"onUpdate:modelValue":s[0]||(s[0]=a=>n(e).name=a),class:"input-search","show-icon":!0,onChange:I},null,8,["modelValue"])]),o(w,{page:n(e).pageIndex,"onUpdate:page":s[1]||(s[1]=a=>n(e).pageIndex=a),limit:n(e).pageSize,"onUpdate:limit":s[2]||(s[2]=a=>n(e).pageSize=a),data:n(_),query:n(e),class:"mt-6",label:"người dùng",onPageChange:b,onLimitChange:x},{default:r(()=>[o(i,{type:"index",index:a=>("printIndex"in t?t.printIndex:n(C))(a,n(e)),width:"75",label:"#",align:"center"},null,8,["index"]),o(i,{label:"tên",width:"320"},{default:r(({row:a})=>[l("p",null,d(a.name),1)]),_:1}),o(i,{label:"EMAIL",width:"320"},{default:r(({row:a})=>[l("p",null,d(a.email),1)]),_:1}),o(i,{label:"số điện thoại",width:"160"},{default:r(({row:a})=>[l("p",null,d(a.phoneNumber),1)]),_:1}),o(i,{label:"giới tính",align:"center"},{default:r(({row:a})=>[l("p",null,d(a.gender),1)]),_:1}),o(i,{label:"hành động",align:"right"},{default:r(({row:a})=>[l("div",$,[o(U,{name:"delete",onClick:O=>h(a)},null,8,["onClick"])])]),_:1})]),_:1},8,["page","limit","data","query"])]),o(F,{name:n(c).email,type:"người dùng","is-loading-button":n(m),onDelete:v},null,8,["name","is-loading-button"])],64)}}}),fe=z(j,[["__scopeId","data-v-52f978e2"]]);export{fe as default};
