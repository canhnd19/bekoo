import{_ as B,a as N,p as A,E as V}from"./PopupConfirmDelete.vue_vue_type_script_setup_true_lang-DCdPmNGa.js";import{_ as S}from"./BaseIcon.vue_vue_type_script_setup_true_lang-BM6B5sPu.js";import{d as T,v as z,x as d,y as D,z as _,o as k,c as L,a as o,q as l,f as s,m as i,F as M,E as P,A as R,t as m,_ as q}from"./index-B7eiBTV4.js";import"./el-select-CjJ4xPVN.js";import{_ as O}from"./BaseButton-DITACc66.js";import{_ as $}from"./BaseInput-DKtkERm8.js";import{D as F}from"./index-DUG8NYZg.js";import"./BasePopup-C8q4OrPa.js";import"./el-scrollbar-CNGnv45V.js";import"./el-popper-DVIyM_vX.js";import"./use-form-item-B4Ai76jW.js";import"./el-input-BFNIFuDq.js";import"./refs-6KAv3gnj.js";import"./castArray-CX7hjhLQ.js";const j={class:"rounded-lg p-4"},G={class:"flex items-start justify-between"},H={class:"flex items-center justify-end space-x-3"},Q=T({__name:"UserView",setup(Y){const{setOpenPopup:g}=z(),e=d({...F,name:""}),f=d([]),c=d({}),u=d(!1);D(()=>{p()});const p=async(n="")=>{try{e.value.loading=!0;const t=n==="search"?await _.getAllUserByName(e.value):await _.getAllUser(e.value);f.value=t.value.contentResponse,e.value.totalElements=t.value.totalElements,e.value.loading=!1}catch(t){e.value.loading=!1,console.log(t)}},h=()=>{},x=n=>{c.value=n,g("popup-confirm-delete")},E=async()=>{try{u.value=!0;const n=await _.deteteUser([c.value.id]);P.success(n.message),g("popup-confirm-delete",!1),u.value=!1,p()}catch(n){u.value=!1,console.log(n)}},U=n=>{e.value.pageSize=n,e.value.pageIndex=1,p()},b=n=>{e.value.pageIndex=n,p()},I=()=>{e.value={...e.value,pageIndex:1,pageSize:10,totalElements:0},p("search")};return(n,t)=>{const y=$,w=O,r=V,v=S,C=N;return k(),L(M,null,[o("div",j,[o("div",G,[l(y,{modelValue:s(e).name,"onUpdate:modelValue":t[0]||(t[0]=a=>s(e).name=a),class:"input-search","show-icon":!0,onChange:I},null,8,["modelValue"]),l(w,{size:"small",class:"w-20"},{default:i(()=>t[3]||(t[3]=[R("Add")])),_:1})]),l(C,{page:s(e).pageIndex,"onUpdate:page":t[1]||(t[1]=a=>s(e).pageIndex=a),limit:s(e).pageSize,"onUpdate:limit":t[2]||(t[2]=a=>s(e).pageSize=a),data:s(f),query:s(e),class:"mt-6",label:"user",onPageChange:b,onLimitChange:U},{default:i(()=>[l(r,{type:"index",index:a=>("printIndex"in n?n.printIndex:s(A))(a,s(e)),label:"#",align:"center"},null,8,["index"]),l(r,{label:"NAME"},{default:i(({row:a})=>[o("p",null,m(a.name),1)]),_:1}),l(r,{label:"EMAIL"},{default:i(({row:a})=>[o("p",null,m(a.email),1)]),_:1}),l(r,{label:"PHONE NUMBER",width:"200"},{default:i(({row:a})=>[o("p",null,m(a.phoneNumber),1)]),_:1}),l(r,{label:"GENDER",width:"90"},{default:i(({row:a})=>[o("p",null,m(a.gender),1)]),_:1}),l(r,{label:"ACTION",width:"120",align:"right"},{default:i(({row:a})=>[o("div",H,[l(v,{name:"edit",onClick:h}),l(v,{name:"delete",onClick:J=>x(a)},null,8,["onClick"])])]),_:1})]),_:1},8,["page","limit","data","query"])]),l(B,{name:s(c).email,type:"người dùng","is-loading-button":s(u),onDelete:E},null,8,["name","is-loading-button"])],64)}}}),ue=q(Q,[["__scopeId","data-v-f1b975ac"]]);export{ue as default};
