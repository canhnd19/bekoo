import{d as b,P as C,y as r,Q as B,A as I,z as P,o as n,c as i,a as e,t as m,s as o,F as w,q as M,R as F,S as L,M as T,n as $,_ as k,f as p,J as S,v as U,T as V}from"./index-DXwo3dST.js";import{_ as x}from"./BaseInput-C_q9Unmp.js";import{_ as A}from"./BaseIcon.vue_vue_type_script_setup_true_lang-Dk_E2eQT.js";/* empty css                 */import"./use-form-item-NlqCf7-L.js";import"./index-CNFpyTCL.js";import"./index-DAPEPXKC.js";const Q={class:"chat-main"},q={class:"chat-header"},D={class:"chat-user-info"},E={class:"avatar"},H=["src"],J={class:"status"},K={class:"info-icon"},N={class:"message-content"},R={class:"message-bubble"},j={class:"message-time"},z={class:"message-input-container"},G={class:"message-actions"},O={class:"action-btn"},W={class:"action-btn"},X={class:"action-btn"},Y={class:"w-12"},Z=b({__name:"ChatMain",props:C({chat:{}},{messageSend:{default:"",type:String},messageSendModifiers:{}}),emits:C(["send"],["update:messageSend"]),setup(_,{emit:l}){const t=_,d=l,u=r(null),a=B(_,"messageSend"),f=async()=>{await T(),u.value&&(u.value.scrollTop=u.value.scrollHeight)};return I(()=>{f()}),P(()=>t.chat.messages.length,()=>{f()}),(g,c)=>{const v=A,h=x;return n(),i("div",Q,[e("div",q,[e("div",D,[e("div",E,[e("img",{src:g.chat.avatar,alt:"Avatar",class:"rounded-full"},null,8,H)]),e("div",null,[e("h3",null,m(g.chat.name),1),e("p",J,m(g.chat.status),1)])]),e("div",K,[o(v,{name:"warning"})])]),e("div",{ref_key:"messagesContainer",ref:u,class:"messages-container"},[(n(!0),i(w,null,M(g.chat.messages,s=>(n(),i("div",{key:s.id,class:$(["message",{"user-message":s.sender==="user","contact-message":s.sender==="contact"}])},[e("div",N,[e("div",R,m(s.text),1),e("div",j,m(s.time),1)])],2))),128))],512),e("div",z,[e("div",G,[e("button",O,[o(v,{name:"voice"})]),e("button",W,[o(v,{name:"image"})]),e("button",X,[o(v,{name:"face"})])]),o(h,{modelValue:a.value,"onUpdate:modelValue":c[0]||(c[0]=s=>a.value=s),placeholder:"Type message...",class:"input-message mb-4",onKeydown:c[1]||(c[1]=F(L(s=>d("send"),["prevent"]),["enter"]))},null,8,["modelValue"]),e("div",Y,[e("div",{class:"send-btn",onClick:c[2]||(c[2]=s=>d("send"))},[o(v,{name:"send-message"})])])])])}}}),ee=k(Z,[["__scopeId","data-v-8eb08a4b"]]),ae={class:"sidebar"},se={class:"sidebar-header"},te={class:"avatar-row"},ne=["src"],ie={class:"favorites-list"},re={class:"avatar"},oe=["src"],le={class:"favorite-info"},de={class:"favorite-name-row"},ue={class:"time"},ce={class:"last-message"},me={key:0,class:"unread-badge"},ge=b({__name:"ChatSidebar",props:{favorites:{},topFavorites:{},searchQuery:{}},emits:["update:searchQuery"],setup(_){const l=r("");return(t,d)=>{const u=x;return n(),i("div",ae,[e("div",se,[o(u,{"model-value":p(l),"onUpdate:modelValue":d[0]||(d[0]=a=>S(l)?l.value=a:null),class:"input-search mb-4","show-icon":!0},null,8,["model-value"]),e("div",te,[(n(!0),i(w,null,M(t.topFavorites,a=>(n(),i("div",{key:a.id,class:"avatar"},[e("img",{src:a.avatar,alt:"Avatar"},null,8,ne)]))),128))])]),e("div",ie,[(n(!0),i(w,null,M(t.favorites,a=>(n(),i("div",{key:a.id,class:$(["favorite-item",{active:a.name==="Emily BrontÃ«"}])},[e("div",re,[e("img",{src:a.avatar,alt:"Avatar"},null,8,oe)]),e("div",le,[e("div",de,[e("h4",null,m(a.name),1),e("span",ue,m(a.time),1)]),e("p",ce,m(a.lastMessage),1)]),a.unread>0?(n(),i("div",me,m(a.unread),1)):U("",!0)],2))),128))])])}}}),ve=k(ge,[["__scopeId","data-v-6a1eba24"]]),he={class:"app-container"},Ce=b({__name:"MesageView",setup(_){const l=r(""),t=r(""),d=r(!1),u=r({"search-word":""}),a=r({id:"1",name:"Emily BrontÃ«",avatar:"/images/avatar-user-default.png",status:"Active now",messages:[{id:"1",sender:"contact",text:"Hi, I need help with my project. I'm having trouble with the layout design.",time:"10:20 PM",avatar:"/images/avatar-user-default.png"},{id:"2",sender:"user",text:"Of course! What's the issue?",time:"10:20 PM",avatar:"/images/avatar-user-default.png"},{id:"3",sender:"contact",text:"I'm struggling with the layout design.",time:"10:20 PM",avatar:"/images/avatar-user-default.png"},{id:"4",sender:"contact",text:"The spacing between elements doesn't look right. What should I do?",time:"10:20 PM",avatar:"/images/avatar-user-default.png"},{id:"5",sender:"user",text:"Try adjusting the margins and padding to create better spacing. Sometimes a little tweak can make a big difference.",time:"10:20 PM",avatar:"/images/avatar-user-default.png"},{id:"6",sender:"user",text:"For aligning text, use your design tool's alignment options.",time:"10:20 PM",avatar:"/images/avatar-user-default.png"},{id:"7",sender:"user",text:"Center, left, or right alignment can help make your design more cohesive.",time:"10:20 PM",avatar:"/images/avatar-user-default.png"},{id:"8",sender:"contact",text:"Great, thanks for the advice!",time:"10:20 PM",avatar:"/images/avatar-user-default.png"}]}),f=r([{id:"1",name:"Jane Austen",avatar:"/images/avatar-user-default.png",lastMessage:"hello, panel can you help me with...",unread:0,time:"8min"},{id:"2",name:"J.K. Rowling",avatar:"/images/avatar-user-default.png",lastMessage:"hello, panel can you help me with...",unread:6,time:""},{id:"3",name:"Emily BrontÃ«",avatar:"/images/avatar-user-default.png",lastMessage:"hello, panel can you help me with...",unread:0,time:"8min"},{id:"4",name:"George Orwell",avatar:"/images/avatar-user-default.png",lastMessage:"hello, panel can you help me with...",unread:4,time:""},{id:"5",name:"Fyodor Dostoevsky",avatar:"/images/avatar-user-default.png",lastMessage:"hello, panel can you help me with...",unread:0,time:"8min"},{id:"6",name:"Harper Lee",avatar:"/images/avatar-user-default.png",lastMessage:"hello, panel can you help me with...",unread:0,time:"8min"},{id:"7",name:"Charlotte BrontÃ«",avatar:"/images/avatar-user-default.png",lastMessage:"hello, panel can you help me with...",unread:1,time:""},{id:"8",name:"Herman Melville",avatar:"/images/avatar-user-default.png",lastMessage:"hello, panel can you help me with...",unread:0,time:"8min"},{id:"9",name:"Fyodor Dostoevsky",avatar:"/images/avatar-user-default.png",lastMessage:"hello, panel can you help me with...",unread:2,time:""}]),g=r([{id:"1",avatar:"/images/avatar-user-default.png"},{id:"2",avatar:"/images/avatar-user-default.png"},{id:"3",avatar:"/images/avatar-user-default.png"},{id:"4",avatar:"/images/avatar-user-default.png"},{id:"5",avatar:"/images/avatar-user-default.png"}]),c=()=>{t.value.trim()&&(a.value.messages.push({id:(a.value.messages.length+1).toString(),sender:"user",text:t.value,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),avatar:"/images/avatar-user-default.png"}),t.value="")};return(async()=>{d.value=!0;try{const h=await V.getListUserChat(u.value);console.log("ðŸš€ ~ getListUserChat ~ rs:",h)}catch(h){console.error(h)}finally{d.value=!1}})(),(h,s)=>(n(),i("div",he,[o(ve,{favorites:p(f),"top-favorites":p(g),"search-query":p(l),"onUpdate:searchQuery":s[0]||(s[0]=y=>l.value=y)},null,8,["favorites","top-favorites","search-query"]),o(ee,{"message-send":p(t),"onUpdate:messageSend":s[1]||(s[1]=y=>S(t)?t.value=y:null),chat:p(a),onSend:c},null,8,["message-send","chat"])]))}});export{Ce as default};
