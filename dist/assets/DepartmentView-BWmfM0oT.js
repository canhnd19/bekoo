import{b as H,c as le,d as oe,e as se,p as F,_ as G,E as K,a as W}from"./PopupConfirmDelete.vue_vue_type_script_setup_true_lang-DcnPueLJ.js";import{d as T,H as X,I as de,o as C,c as $,q as a,m as u,a as i,F as z,p as Z,n as ie,t as B,_ as R,v as q,x as g,l as L,A as w,f as t,J as U,E as S,D as M,G as pe,y as J,K as j,e as ue,L as ce}from"./index-BKwzwGsf.js";import{E as re}from"./el-scrollbar-DIgTVryk.js";import{_ as Q}from"./BaseIcon.vue_vue_type_script_setup_true_lang-SKFqPpP9.js";import"./el-select-CsZb-53C.js";import{_ as N}from"./BaseButton-B06WgpaU.js";import{_ as ee}from"./BaseInput-CZbSBXj-.js";import{D as Y}from"./index-BN3nrbBq.js";import{E as te}from"./el-input-B3eMP-2A.js";import"./el-popper-DyZV8nJ2.js";import"./use-form-item-DD1G1vvA.js";import"./refs-BC08wjtb.js";import"./castArray-D9t3_q8i.js";const me={class:"base-tab"},ge={class:"flex"},fe=["onClick"],_e=T({__name:"BaseTab",props:X({tabs:{default:()=>[]},isFullWidth:{type:Boolean,default:!1}},{modelValue:{required:!0,default:""},modelModifiers:{}}),emits:X(["update:modelValue","change"],["update:modelValue"]),setup(I,{emit:f}){const _=I,r=de(I,"modelValue"),c=f,m=s=>{c("update:modelValue",s.tabValue),c("change",s)};return(s,e)=>{const x=re;return C(),$("div",me,[a(x,null,{default:u(()=>[i("div",ge,[(C(!0),$(z,null,Z(s.tabs,(b,l)=>(C(),$("div",{key:l,class:ie(["tab cursor-pointer font-medium sm:relative sm:!mr-1 sm:px-4 sm:!text-sm",[b.tabValue===r.value?"active":null,_.isFullWidth&&"!w-full"]]),onClick:p=>m(b)},B(b.title),11,fe))),128))])]),_:1})])}}}),ve=R(_e,[["__scopeId","data-v-0486859f"]]),ye={class:"space-y-3"},xe={class:"space-y-2"},be={class:"space-y-2"},ke={class:"flex items-center justify-end space-x-3"},Ce=T({__name:"PopupAddDepartment",setup(I){const{setOpenPopup:f}=q(),_=g(!1),r=g({name:"",description:""}),c=async()=>{try{_.value=!0;const m=await U.createdDepartment({...r.value});S.success(m.message),f("popup-add-department",!1),_.value=!1}catch(m){_.value=!1,console.log(m)}};return(m,s)=>{const e=te,x=N,b=H;return C(),L(b,{name:"popup-add-department",width:"700"},{title:u(()=>s[3]||(s[3]=[w(" Add department ")])),footer:u(()=>[i("div",ke,[a(x,{type:"plain",size:"small",class:"w-20",onClick:s[2]||(s[2]=l=>t(f)("popup-add-department",!1))},{default:u(()=>s[6]||(s[6]=[w("Hủy")])),_:1}),a(x,{loading:t(_),size:"small",class:"w-20",onClick:c},{default:u(()=>s[7]||(s[7]=[w("Tạo")])),_:1},8,["loading"])])]),default:u(()=>[i("div",ye,[i("div",xe,[s[4]||(s[4]=i("p",{class:"text-label"},"Tên chuyên khoa",-1)),a(e,{modelValue:t(r).name,"onUpdate:modelValue":s[0]||(s[0]=l=>t(r).name=l),class:"input",style:{height:"50px",width:"100%"},placeholder:"Khoa Răng-Hàm-Mặt"},null,8,["modelValue"])]),i("div",be,[s[5]||(s[5]=i("p",{class:"text-label"},"Mô tả",-1)),a(e,{modelValue:t(r).description,"onUpdate:modelValue":s[1]||(s[1]=l=>t(r).description=l),class:"input",style:{height:"50px",width:"100%"},autosize:{minRows:2},type:"textarea",placeholder:"Vui lòng nhập mô tả"},null,8,["modelValue"])])])]),_:1})}}}),he=R(Ce,[["__scopeId","data-v-1c38d3be"]]),Ie={class:"flex items-center justify-end space-x-3"},we=T({__name:"PopupAddDoctortoPackage",props:{isLoadingAdd:{type:Boolean,default:!1}},emits:["cancel","add"],setup(I,{emit:f}){const _=f,r=g([]),c=g(""),m=g(!1),s=g(""),e=I,x=async()=>{try{m.value=!0;const l=await pe.getDoctorByName(c.value.trim());r.value=l.value.contentResponse,m.value=!1}catch(l){m.value=!1,console.log(l)}},b=l=>{s.value=l.id};return(l,p)=>{const D=ee,A=le,P=oe,n=se,d=N,V=H;return C(),L(V,{name:"popup-add-doctor-to-package",width:"480"},{title:u(()=>p[4]||(p[4]=[w(" Thêm bác sĩ ")])),footer:u(()=>[i("div",Ie,[a(d,{type:"plain",size:"small",class:"w-20",onClick:p[2]||(p[2]=o=>_("cancel"))},{default:u(()=>p[5]||(p[5]=[w("Hủy")])),_:1}),a(d,{loading:e.isLoadingAdd,size:"small",class:"w-20",onClick:p[3]||(p[3]=o=>_("add",t(s)))},{default:u(()=>p[6]||(p[6]=[w("Thêm")])),_:1},8,["loading"])])]),default:u(()=>[i("div",null,[a(D,{modelValue:t(c),"onUpdate:modelValue":p[0]||(p[0]=o=>M(c)?c.value=o:null),class:"input-search mb-3","show-icon":!0,onChange:x},null,8,["modelValue"]),t(m)?(C(),L(A,{key:0})):t(r).length===0?(C(),L(P,{key:1})):(C(!0),$(z,{key:2},Z(t(r),(o,y)=>(C(),$("div",{key:y},[a(n,{modelValue:t(s),"onUpdate:modelValue":p[1]||(p[1]=E=>M(s)?s.value=E:null),class:"check-box",label:o.info.name,"true-value":o.id,size:"large",onChange:E=>b(o)},null,8,["modelValue","label","true-value","onChange"])]))),128))])]),_:1})}}}),Ve=R(we,[["__scopeId","data-v-8a6b5795"]]),De={class:"mt-3 flex justify-end"},$e={class:"flex items-center justify-end space-x-3"},Be=T({__name:"TabDoctors",props:{departmentId:{default:""}},setup(I){const{setOpenPopup:f}=q(),_=I;J(()=>{l()});const r=g({}),c=g(!1),m=g(!1),s=g([]),e=g({...Y}),x=()=>{f("popup-add-doctor-to-package",!1)},b=async n=>{try{m.value=!0;const d={departmentId:_.departmentId,doctorId:n},V=await U.addDoctorDepartment(d);S.success(V.message),f("popup-add-doctor-to-package",!1),l(),m.value=!1}catch(d){m.value=!1,console.log(d)}},l=async()=>{try{e.value.loading=!0;const n=_.departmentId,d=await U.getAllDoctorOfDepartment(n);s.value=d.value.contentResponse,e.value.totalElements=d.value.totalElements,e.value.loading=!1}catch(n){e.value.loading=!1,console.log(n)}},p=n=>{e.value.pageSize=n,e.value.pageIndex=1,l()},D=n=>{e.value.pageIndex=n,l()},A=n=>{r.value=n,f("popup-confirm-delete")},P=async()=>{try{c.value=!0;const n={departmentId:_.departmentId,doctorId:r.value.id},d=await U.deleteDoctorDepartment({values:[n]});S.success(d.message),f("popup-confirm-delete",!1),c.value=!1,l()}catch(n){c.value=!1,console.log(n)}};return(n,d)=>{var k;const V=N,o=K,y=Q,E=W;return C(),$(z,null,[i("div",De,[a(V,{size:"small",class:"w-40",onClick:d[0]||(d[0]=v=>t(f)("popup-add-doctor-to-package"))},{default:u(()=>d[3]||(d[3]=[w("Thêm bác sĩ")])),_:1})]),a(E,{page:t(e).pageIndex,"onUpdate:page":d[1]||(d[1]=v=>t(e).pageIndex=v),limit:t(e).pageSize,"onUpdate:limit":d[2]||(d[2]=v=>t(e).pageSize=v),data:t(s),query:t(e),class:"mt-6",label:"doctor",onPageChange:D,onLimitChange:p},{default:u(()=>[a(o,{type:"index",index:v=>("printIndex"in n?n.printIndex:t(F))(v,t(e)),label:"#",align:"center"},null,8,["index"]),a(o,{label:"NAME"},{default:u(({row:v})=>[i("p",null,B(v.info.name),1)]),_:1}),a(o,{label:"EMAIL"},{default:u(({row:v})=>[i("p",null,B(v.info.email),1)]),_:1}),a(o,{label:"PHONE NUMBER",width:"200"},{default:u(({row:v})=>[i("p",null,B(v.info.phoneNumber),1)]),_:1}),a(o,{label:"GENDER",width:"90"},{default:u(({row:v})=>[i("p",null,B(v.info.gender),1)]),_:1}),a(o,{label:"ACTION",width:"120",align:"right"},{default:u(({row:v})=>[i("div",$e,[a(y,{name:"delete",onClick:O=>A(v)},null,8,["onClick"])])]),_:1})]),_:1},8,["page","limit","data","query"]),a(Ve,{"is-loading-add":t(m),onAdd:b,onCancel:x},null,8,["is-loading-add"]),a(G,{name:(k=t(r).info)==null?void 0:k.email,type:"bác sĩ","is-loading-delete":t(c),onDelete:P},null,8,["name","is-loading-delete"])],64)}}}),Ee={class:"space-y-3"},Ae={class:"space-y-2"},Pe={class:"space-y-2"},ze={class:"space-y-2"},Te={class:"flex items-center justify-end space-x-3"},Le=T({__name:"PopupAddExminationPackage",props:{isLoading:{type:Boolean,default:!1}},emits:["cancel","add"],setup(I,{emit:f}){const _=I,r=f,c=g({name:"",description:"",price:""}),m=()=>{r("add",{...c.value})};return(s,e)=>{const x=te,b=N,l=H;return C(),L(l,{name:"popup-add-exmination-package",width:"480"},{title:u(()=>e[4]||(e[4]=[w(" Add exmination package ")])),footer:u(()=>[i("div",Te,[a(b,{type:"plain",size:"small",class:"w-20",onClick:e[3]||(e[3]=p=>r("cancel"))},{default:u(()=>e[8]||(e[8]=[w("Hủy")])),_:1}),a(b,{loading:_.isLoading,size:"small",class:"w-20",onClick:m},{default:u(()=>e[9]||(e[9]=[w("Thêm")])),_:1},8,["loading"])])]),default:u(()=>[i("div",Ee,[i("div",Ae,[e[5]||(e[5]=i("p",{class:"text-label"},"Tên gói khám",-1)),a(x,{modelValue:t(c).name,"onUpdate:modelValue":e[0]||(e[0]=p=>t(c).name=p),class:"input",style:{height:"50px",width:"100%"},placeholder:"Gói tầm soát ung thư tai - mũi - họng"},null,8,["modelValue"])]),i("div",Pe,[e[6]||(e[6]=i("p",{class:"text-label"},"Mô tả",-1)),a(x,{modelValue:t(c).description,"onUpdate:modelValue":e[1]||(e[1]=p=>t(c).description=p),class:"input",style:{height:"50px",width:"100%"},autosize:{minRows:2},type:"textarea",placeholder:"Vui lòng nhập mô tả"},null,8,["modelValue"])]),i("div",ze,[e[7]||(e[7]=i("p",{class:"text-label"},"Giá khám",-1)),a(x,{modelValue:t(c).price,"onUpdate:modelValue":e[2]||(e[2]=p=>t(c).price=p),style:{height:"50px",width:"100%"},class:"input",formatter:p=>`${p}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:p=>p.replace(/\$\s?|(,*)/g,"")},null,8,["modelValue","formatter","parser"])])])]),_:1})}}}),Ue=R(Le,[["__scopeId","data-v-96f5fcde"]]),Se={class:"mt-3 flex justify-end"},Ne={class:"flex items-center space-x-3"},Re=T({__name:"TabSpecializes",props:{departmentId:{default:""}},setup(I){const{setOpenPopup:f}=q();J(()=>{l()});const _=g({}),r=g([]),c=g(!1),m=g(!1),s=I,e=g({...Y}),x=()=>{f("popup-add-exmination-package",!1)},b=async n=>{try{c.value=!0;const d=s.departmentId,V=await j.createPackage({...n,departmentId:d});S.success(V.message),f("popup-add-exmination-package",!1),c.value=!1}catch(d){c.value=!1,console.log(d)}},l=async()=>{try{e.value.loading=!0;const n=await j.getAllPackage(e.value);r.value=n.value.contentResponse,e.value.totalElements=n.value.totalElements,e.value.loading=!1}catch(n){e.value.loading=!1,console.log(n)}},p=n=>{e.value.pageSize=n,e.value.pageIndex=1,l()},D=n=>{e.value.pageIndex=n,l()},A=n=>{_.value=n,f("popup-confirm-delete")},P=async()=>{try{m.value=!0;const n=await j.detetePackage(_.value.id);S.success(n.message),f("popup-confirm-delete",!1),m.value=!1,l()}catch(n){m.value=!1,console.log(n)}};return(n,d)=>{const V=N,o=K,y=Q,E=W;return C(),$(z,null,[i("div",Se,[a(V,{size:"small",class:"w-40",onClick:d[0]||(d[0]=k=>t(f)("popup-add-exmination-package"))},{default:u(()=>d[3]||(d[3]=[w("Thêm gói khám")])),_:1})]),a(E,{page:t(e).pageIndex,"onUpdate:page":d[1]||(d[1]=k=>t(e).pageIndex=k),limit:t(e).pageSize,"onUpdate:limit":d[2]||(d[2]=k=>t(e).pageSize=k),data:t(r),query:t(e),class:"mt-6",label:"user",onPageChange:D,onLimitChange:p},{default:u(()=>[a(o,{type:"index",index:k=>("printIndex"in n?n.printIndex:t(F))(k,t(e)),label:"#",align:"center"},null,8,["index"]),a(o,{label:"NAME"},{default:u(({row:k})=>[i("p",null,B(k.name),1)]),_:1}),a(o,{label:"price"},{default:u(({row:k})=>[i("p",null,B(k.price),1)]),_:1}),a(o,{label:"ACTION"},{default:u(({row:k})=>[i("div",Ne,[a(y,{name:"delete",onClick:v=>A(k)},null,8,["onClick"])])]),_:1})]),_:1},8,["page","limit","data","query"]),a(Ue,{"is-loading":t(c),onAdd:b,onCancel:x},null,8,["is-loading"]),a(G,{name:t(_).name,type:"gói khám","is-loading-delete":t(m),onDelete:P},null,8,["name","is-loading-delete"])],64)}}}),Me={class:"flex items-start justify-between"},qe={class:"flex items-center justify-end space-x-3"},Oe={class:"flex items-center justify-start"},je={class:"text-lg"},He={class:"pb-6 pt-4"},Fe=T({__name:"DepartmentView",setup(I){const{setOpenPopup:f}=q(),_=g([{id:1,title:"Doctors",tabValue:"doctors"},{id:2,title:"Specialize",tabValue:"specialize"}]),r=g("doctors"),c=g(""),m=g([]),s=g({}),e=g(""),x=g(!1),b=g(!1),l=g({...Y,search:""}),p=ue(()=>r.value==="doctors"?Be:Re);J(()=>{D()});const D=async()=>{try{l.value.loading=!0;const o=await U.getAllDepartment(l.value);m.value=o.value.contentResponse,l.value.totalElements=o.value.totalElements,l.value.loading=!1}catch(o){l.value.loading=!1,console.log(o)}},A=o=>{b.value=!0,s.value=o,f("popup-confirm-delete")},P=async()=>{try{x.value=!0;const o=await U.deteteDepartment(s.value.id);S.success(o.message),f("popup-confirm-delete",!1),x.value=!1,D()}catch(o){x.value=!1,console.log(o)}},n=o=>{if(b.value){b.value=!1;return}s.value=o,e.value=o.id},d=o=>{l.value.pageSize=o,l.value.pageIndex=1,D()},V=o=>{l.value.pageIndex=o,D()};return(o,y)=>{const E=ee,k=N,v=K,O=Q,ae=W,ne=ve;return C(),$(z,null,[t(e)?(C(),$(z,{key:1},[i("div",Oe,[a(O,{name:"back",class:"mr-3 cursor-pointer",onClick:y[4]||(y[4]=h=>e.value="")}),i("p",je,B(t(s).name),1)]),i("div",He,[a(ne,{modelValue:t(r),"onUpdate:modelValue":y[5]||(y[5]=h=>M(r)?r.value=h:null),tabs:t(_)},null,8,["modelValue","tabs"]),(C(),L(ce(t(p)),{"department-id":t(e)},null,8,["department-id"]))])],64)):(C(),$(z,{key:0},[i("div",Me,[a(E,{modelValue:t(c),"onUpdate:modelValue":y[0]||(y[0]=h=>M(c)?c.value=h:null),class:"input-search","show-icon":!0},null,8,["modelValue"]),a(k,{size:"small",class:"w-20",onClick:y[1]||(y[1]=h=>t(f)("popup-add-department"))},{default:u(()=>y[6]||(y[6]=[w("Add")])),_:1})]),a(ae,{page:t(l).pageIndex,"onUpdate:page":y[2]||(y[2]=h=>t(l).pageIndex=h),limit:t(l).pageSize,"onUpdate:limit":y[3]||(y[3]=h=>t(l).pageSize=h),data:t(m),query:t(l),class:"mt-6",label:"department",onPageChange:V,onLimitChange:d,onRowClick:n},{default:u(()=>[a(v,{type:"index",index:h=>("printIndex"in o?o.printIndex:t(F))(h,t(l)),label:"#",align:"center"},null,8,["index"]),a(v,{label:"NAME"},{default:u(({row:h})=>[i("p",null,B(h.name),1)]),_:1}),a(v,{label:"ACTION"},{default:u(({row:h})=>[i("div",qe,[a(O,{name:"delete",onClick:Ge=>A(h)},null,8,["onClick"])])]),_:1})]),_:1},8,["page","limit","data","query"])],64)),a(he),a(G,{name:t(s).name,type:"chuyên khoa","is-loading-delete":t(x),onDelete:P},null,8,["name","is-loading-delete"])],64)}}}),st=R(Fe,[["__scopeId","data-v-9b6c9347"]]);export{st as default};
