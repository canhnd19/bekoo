var H=Object.defineProperty;var G=(r,e,n)=>e in r?H(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var v=(r,e,n)=>G(r,typeof e!="symbol"?e+"":e,n);import{_ as N}from"./BaseIcon.vue_vue_type_script_setup_true_lang-C2di59ZF.js";import{_ as K}from"./BaseInput-hJvsFGpb.js";import{d as F,y as u,A as P,M as D,z as O,o as i,c,Z as E,f as a,s as f,p as B,a as t,F as _,q as C,n as q,v as A,t as b,bb as W,R as j,_ as $,ag as z,D as L,ah as U,J,m as Y,N as Q,T as X}from"./index-BNZlxmQ0.js";import{S as Z,P as ee,N as te,a as se}from"./swiper-vue-CKlcv15Q.js";import"./el-popper-xrLYVjRb.js";import{h as ne}from"./el-popover-CRRHFWvi.js";import{_ as V}from"./favicon-BHUZcTbH.js";import{C as oe}from"./index-CnFKH6a2.js";/* empty css                 */import"./use-form-item-BReAePHK.js";import"./index-BUfDMWk8.js";import"./index-DBJhGBzw.js";const ie="/images/homepage_banner.png";function ae(r){return typeof r!="string"?r:r.replace(/[\u0000-\u001F\u007F-\u009F]/g,e=>e===`
`?"\\n":e==="\r"?"\\r":e==="	"?"\\t":e==="\b"?"\\b":e==="\f"?"\\f":"")}function ce(r){try{return JSON.parse(r)}catch(e){try{const n=ae(r);return JSON.parse(n)}catch{throw e}}}class re{constructor(e){v(this,"url");v(this,"socket");v(this,"isConnected");v(this,"reconnectAttempts");v(this,"maxReconnectAttempts");v(this,"reconnectInterval");v(this,"listeners");v(this,"pendingMessages");this.url=e,this.socket=null,this.isConnected=!1,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectInterval=3e3,this.listeners={},this.pendingMessages=[],this.connect()}connect(){try{this.socket=new WebSocket(this.url),this.socket.onopen=e=>{console.log("WebSocket connection established"),this.isConnected=!0,this.reconnectAttempts=0,this.pendingMessages.length>0&&(this.pendingMessages.forEach(n=>this.send(n)),this.pendingMessages=[]),this.notifyListeners("connect",e)},this.socket.onmessage=e=>{try{const n=ce(e.data);console.log("Message from server:",n),this.notifyListeners("message",n)}catch(n){console.error("Error processing message:",n),this.notifyListeners("error",{type:"parse_error",error:n,rawData:e.data})}},this.socket.onclose=e=>{this.isConnected=!1,console.log(`WebSocket connection closed: ${e.code} ${e.reason}`),this.notifyListeners("close",e),this.reconnectAttempts<this.maxReconnectAttempts?(this.reconnectAttempts++,console.log(`Trying to reconnect (${this.reconnectAttempts}/${this.maxReconnectAttempts})...`),setTimeout(()=>this.connect(),this.reconnectInterval)):console.error("Max reconnect attempts reached. Please refresh the page.")},this.socket.onerror=e=>{console.error("WebSocket Error:",e),this.notifyListeners("error",e)}}catch(e){console.error("Unable to create WebSocket connection:",e)}}send(e){if(!this.isConnected){this.pendingMessages.push(e),console.warn("WebSocket not connected yet. Message will be sent after connection.");return}try{this.socket&&this.socket.send(JSON.stringify(e))}catch(n){console.error("Error sending WebSocket message:",n)}}addListener(e,n){return this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(n),()=>{if(this.listeners[e]){const d=this.listeners[e].indexOf(n);d!==-1&&this.listeners[e].splice(d,1)}}}notifyListeners(e,n){this.listeners[e]&&this.listeners[e].forEach(d=>d(n))}disconnect(){this.socket&&this.isConnected&&this.socket.close(1e3,"Disconnect from client"),this.isConnected=!1,this.listeners={},this.pendingMessages=[],this.reconnectAttempts=0}getConnectionStatus(){return this.isConnected}}const S=new re("ws://localhost:8083/chat");S.addListener("connect",()=>{console.log("Connected to WebSocket server")});const le={class:"fixed bottom-8 right-8 h-[46px] cursor-pointer sm:bottom-16 sm:right-2"},he={class:"chat-container"},de={key:0,class:"bot-avatar"},me={class:"message"},ge={key:0,class:"action-button-container"},ue={class:"chat-input space-x-4"},pe=F({__name:"MedicalChatBot",setup(r){const e=u(),n=u(),d=()=>{var s,l;(l=(s=a(n).popperRef)==null?void 0:s.delayHide)==null||l.call(s)},y=u([]),m=u(""),p=u(null),k=u(!1);P(()=>{setTimeout(()=>{x("Báº¡n cáº§n Ä‘Äƒng kÃ½ Ä‘áº·t lá»‹ch khÃ¡m vÃ o hÃ´m nÃ o áº¡?","bot"),k.value=!0},1e3)});const x=(s,l)=>{y.value.push({text:s,sender:l,timestamp:new Date}),D(()=>{p.value&&(p.value.scrollTop=p.value.scrollHeight)})},T=()=>{m.value.trim()!==""&&(g(m.value),x(m.value,"user"))},M=()=>{k.value=!1,x("TÃ´i muá»‘n Ä‘áº·t lá»‹ch khÃ¡m","user"),setTimeout(()=>{x("Bekoo Ä‘Ã£ tiáº¿p nháº­n thÃ´ng tin vÃ  Ä‘ang káº¿t ná»‘i vá»›i nhÃ¢n viÃªn há»— trá»£, báº¡n vui lÃ²ng chá» trong giÃ¢y lÃ¡t.","bot")},1e3)};O(y,()=>{D(()=>{p.value&&(p.value.scrollTop=p.value.scrollHeight)})});const g=s=>{const l={type:1,senderId:"bb3e3baa-d5ce-4698-9e8d-82f27e9fa558",content:s,timestamp:new Date().getTime()};S.send(l)};return S.addListener("message",s=>{console.log("Received data from BE:",s.botResponse),console.log(" typeof data",typeof s),x(s.botResponse,"bot")}),(s,l)=>{const w=N,o=ne;return i(),c("div",le,[E(f(w,{ref_key:"buttonRef",ref:e,name:"chat-bot",size:"40",class:"text-primary"},null,512),[[a(oe),d]]),f(o,{ref_key:"popoverRef",ref:n,"popper-style":{padding:0,borderRadius:"8px"},placement:"left","virtual-ref":e.value,trigger:"click","virtual-triggering":"",width:"400px"},{default:B(()=>[t("div",he,[l[2]||(l[2]=t("div",{class:"chat-header"},[t("div",{class:"user-info"},[t("div",{class:"avatar rounded-full bg-white p-1"},[t("img",{src:V,alt:"User avatar"})]),t("div",{class:"user-details"},[t("div",{class:"user-name"},"ChÄƒm sÃ³c khÃ¡ch hÃ ng Bekoo"),t("div",{class:"user-status"},"TÆ° Váº¥n Trá»±c Tuyáº¿n")])])],-1)),t("div",{ref_key:"messagesContainer",ref:p,class:"chat-messages"},[(i(!0),c(_,null,C(y.value,(h,R)=>(i(),c("div",{key:R,class:q(["message-wrapper",h.sender==="user"?"user-message":"bot-message"])},[h.sender==="bot"?(i(),c("div",de,l[1]||(l[1]=[t("img",{src:V,alt:"User avatar",class:"rounded-full bg-white p-1"},null,-1)]))):A("",!0),t("div",me,b(h.text),1)],2))),128)),k.value?(i(),c("div",ge,[t("button",{class:"action-button",onClick:M},"Äáº·t lá»‹ch khÃ¡m má»›i")])):A("",!0)],512),t("div",ue,[E(t("input",{"onUpdate:modelValue":l[0]||(l[0]=h=>m.value=h),type:"text",placeholder:"Nháº­p ná»™i dung...",onKeyup:j(T,["enter"])},null,544),[[W,m.value]]),t("button",{class:"btn-primary",onClick:T},[f(w,{name:"send",size:"20"})])])])]),_:1},8,["virtual-ref"])])}}}),ve=$(pe,[["__scopeId","data-v-b1506db2"]]),I=[{icon:"/images/doctor.png",label:"Äáº·t khÃ¡m theo bÃ¡c sÄ©"},{icon:"/images/tele.png",label:"TÆ° váº¥n khÃ¡m bá»‡nh qua video"},{icon:"/images/dat-lich-xet-nghiem.png",label:"Äáº·t lá»‹ch xÃ©t nghiá»‡m"},{icon:"/images/goi_kham.png",label:"GÃ³i khÃ¡m sá»©c khá»e"},{icon:"/images/tiem-chung.png",label:"Äáº·t lá»‹ch tiÃªm chá»§ng"},{icon:"/images/y-te-tai-nha.png",label:"Y táº¿ táº¡i nhÃ "},{icon:"/images/thanhtoanvp.png",label:"Thanh toÃ¡n viá»‡n phÃ­"}],fe=[{icon:"/images/luotdatkham.png",value:"3.0M+",label:"LÆ°á»£t khÃ¡m"},{icon:"/images/bacsi.png",value:"100+",label:"BÃ¡c sÄ©"},{icon:"/images/luottruycapthang.png",value:"850K+",label:"LÆ°á»£t truy cáº­p thÃ¡ng"},{icon:"/images/luottruycapngay.png",value:"28.3K++",label:"LÆ°á»£t truy cáº­p trong ngÃ y"}],ke=[{detailFeelPeople:"Äáº·t lá»‹ch xÃ©t nghiá»‡m bÃªn nÃ y ráº¥t gá»n, cÃ³ ngÃ y giá» cá»¥ thá»ƒ luÃ´n lÃªn lÃ  Ä‘Æ°á»£c xÃ©t nghiá»‡m liá»n khÃ´ng rÆ°á»m rÃ  gÃ¬ máº¥y. An tÃ¢m Ä‘áº·t cho gia Ä‘Ã¬nh, cÃ³ cáº£ xÃ©t nghiá»‡m táº­n nhÃ , khÃ´ng máº¥t thá»i gian.",name:"Yáº¿n Chi ",avatar:"/images/feedback2.jpg"},{detailFeelPeople:"Cáº£m Æ¡n Bekoo giÃºp mÃ¬nh vÃ  gia Ä‘Ã¬nh tiáº¿t kiá»‡m thá»i gian vÃ  cÃ´ng sá»©c khi Ä‘i khÃ¡m. Ba mÃ¬nh lá»›n tuá»•i nÃªn máº¯t yáº¿u, Ä‘i khÃ¡m BV Máº¯t á»Ÿ xa lÃªn tá»›i HÃ  ná»™i khÃ¡m cá»±c vá»›i Ä‘Ã´ng nhÆ°ng tá»« bÃ¢y giá» chá»‰ cáº§n Ä‘áº·t khÃ¡m qua Bekoo, khÃ´ng cáº§n xáº¿p hÃ ng chá» Ä‘á»£i.",name:"Má»™c TrÃ ",avatar:"/images/feedback1.jpg"},{detailFeelPeople:"Äáº·t lá»‹ch khÃ¡m qua Bekoo ráº¥t dá»… dÃ ng vÃ  tiá»‡n lá»£i. TÃ´i Ä‘Ã¡nh giÃ¡ cao tÃ­nh nÄƒng thanh toÃ¡n trá»±c tuyáº¿n vÃ  cáº­p nháº­t lá»‹ch sá»­ khÃ¡m bá»‡nh. Giao diá»‡n trá»±c quan, giÃºp tÃ´i dá»… dÃ ng tÃ¬m kiáº¿m vÃ  lá»±a chá»n dá»‹ch vá»¥.",name:"An Nhung",avatar:"/images/feedback6.jpg"},{detailFeelPeople:"TÃ´i ráº¥t hÃ i lÃ²ng vá»›i dá»‹ch vá»¥ Ä‘áº·t lá»‹ch cá»§a Bekoo. á»¨ng dá»¥ng dá»… sá»­ dá»¥ng, giÃºp tÃ´i Ä‘áº·t lá»‹ch khÃ¡m nhanh chÃ³ng mÃ  khÃ´ng cáº§n chá» Ä‘á»£i. Äiá»u tuyá»‡t vá»i lÃ  cÃ³ thá»ƒ chá»n bÃ¡c sÄ© theo nhu cáº§u vÃ  lá»‹ch trÃ¬nh cÃ¡ nhÃ¢n. ",name:"Mai Vy",avatar:"/images/feedback3.jpg"},{detailFeelPeople:"Dá»‹ch vá»¥ Bekoo giÃºp tÃ´i tiáº¿t kiá»‡m nhiá»u thá»i gian nhá» vÃ o tÃ­nh nÄƒng Ä‘áº·t lá»‹ch trá»±c tuyáº¿n. Tá»« khi sá»­ dá»¥ng Bekoo, tÃ´i khÃ´ng cÃ²n pháº£i xáº¿p hÃ ng dÃ i á»Ÿ bá»‡nh viá»‡n ná»¯a. Giao diá»‡n Ä‘Æ¡n giáº£n, dá»… hiá»ƒu, thÃ´ng tin rÃµ rÃ ng vá» cÃ¡c bÃ¡c sÄ© vÃ  dá»‹ch vá»¥.",name:"Máº¡nh HÃ¹ng",avatar:"/images/feedback4.jpg"},{detailFeelPeople:"Bekoo thá»±c sá»± lÃ  má»™t á»©ng dá»¥ng há»¯u Ã­ch trong viá»‡c chÄƒm sÃ³c sá»©c khá»e! TÃ´i áº¥n tÆ°á»£ng vá»›i tÃ­nh nÄƒng nháº¯c nhá»Ÿ tá»± Ä‘á»™ng, giÃºp tÃ´i khÃ´ng bao giá» quÃªn lá»‹ch háº¹n. Há»‡ thá»‘ng Ä‘áº·t lá»‹ch ráº¥t mÆ°á»£t, giao diá»‡n thÃ¢n thiá»‡n. ",name:"RoÃ£n Quyá»n",avatar:"/images/feedback5.jpg"}],_e={class:"relative"},be={class:"absolute top-20 w-full"},ye={class:"carousel"},xe=["src"],we={class:"mt-2 text-center"},Ce={key:1,class:"grid grid-cols-2 gap-8"},Te=["src"],Se={class:"mt-2 text-center"},Me={class:"container mt-28"},Be={class:"my-8 grid grid-cols-8 gap-x-12 gap-y-8 sm:grid-cols-2"},Ae=["onClick"],Re=["src"],De={class:"mt-2 text-center text-[20px]"},Ee={class:"show-more"},Le={key:0,class:"is-loading"},Ve={key:1},Ie={key:2},Ne={class:"container mt-28"},Fe={class:"feedback-card"},Pe={class:"mx-auto"},$e={class:"border-border-table flex items-center justify-center space-x-2 border-t border-solid pt-4"},He=["src"],Ge={class:"text-base font-semibold"},Ke={class:"statistics"},Oe={class:"container"},qe={class:"statistics-item"},We=["src"],je={class:"text-center text-2xl font-bold text-[#24313d]"},ze={class:"mt-2 text-center text-[20px] text-[#757575]"},Ue=F({__name:"HomeView",setup(r){const{isDesktop:e}=z(L()),n=[ee,te],d=u([]),y=u(""),m=u(!1);P(()=>{try{S.connect()}catch(g){console.error("Failed to connect to Socket.IO server",g)}});const{department:p}=L(),k=u({pageIndex:1,pageSize:40,totalElements:0,loading:!1}),x=async()=>{if(!(d.value.length>0))try{k.value.loading=!0;const g=await Q.getAllDepartment();d.value=g.value.contentResponse,k.value.loading=!1}catch(g){k.value.loading=!1,console.log(g)}},T=()=>{m.value=!m.value,m.value&&x()},M=g=>{sessionStorage.setItem("department-name",g.name),X.push({name:"DepartmentDetail",params:{id:g.id}})};return(g,s)=>{const l=K,w=N;return i(),c(_,null,[t("div",_e,[s[4]||(s[4]=U('<div class="marquee bg-[#ffb340] py-4" data-v-41cefc42><div class="marquee-content font-semibold text-white" data-v-41cefc42><p data-v-41cefc42>ğŸ‡ Táº¿t Ä‘Ã£ vá»! Giáº£m GiÃ¡ Äáº¿n 200.000Ä‘ - Vui lÃ²ng Ä‘áº·t lá»‹ch khÃ¡m Ä‘á»ƒ Ä‘Æ°á»£c Æ°u Ä‘Ã£i nÃ y!</p><p data-v-41cefc42>ğŸ‰ KhÃ¡m sá»©c khá»e Ä‘á»‹nh ká»³ vá»›i giÃ¡ Æ°u Ä‘Ã£i!</p><p data-v-41cefc42>ğŸ Æ¯u Ä‘Ã£i Ä‘áº·c biá»‡t cho khÃ¡ch hÃ ng má»›i!</p><p data-v-41cefc42>ğŸ¥ Äáº·t lá»‹ch khÃ¡m trá»±c tuyáº¿n nhanh chÃ³ng vÃ  tiá»‡n lá»£i!</p><p data-v-41cefc42>ğŸ‡ Táº¿t Ä‘Ã£ vá»! Giáº£m GiÃ¡ Äáº¿n 200.000Ä‘ - Vui lÃ²ng Ä‘áº·t lá»‹ch khÃ¡m Ä‘á»ƒ Ä‘Æ°á»£c Æ°u Ä‘Ã£i nÃ y!</p><p data-v-41cefc42>ğŸ‰ KhÃ¡m sá»©c khá»e Ä‘á»‹nh ká»³ vá»›i giÃ¡ Æ°u Ä‘Ã£i!</p><p data-v-41cefc42>ğŸ Æ¯u Ä‘Ã£i Ä‘áº·c biá»‡t cho khÃ¡ch hÃ ng má»›i!</p><p data-v-41cefc42>ğŸ¥ Äáº·t lá»‹ch khÃ¡m trá»±c tuyáº¿n nhanh chÃ³ng vÃ  tiá»‡n lá»£i!</p><p data-v-41cefc42>ğŸ‡ Táº¿t Ä‘Ã£ vá»! Giáº£m GiÃ¡ Äáº¿n 200.000Ä‘ - Vui lÃ²ng Ä‘áº·t lá»‹ch khÃ¡m Ä‘á»ƒ Ä‘Æ°á»£c Æ°u Ä‘Ã£i nÃ y!</p><p data-v-41cefc42>ğŸ‰ KhÃ¡m sá»©c khá»e Ä‘á»‹nh ká»³ vá»›i giÃ¡ Æ°u Ä‘Ã£i!</p><p data-v-41cefc42>ğŸ Æ¯u Ä‘Ã£i Ä‘áº·c biá»‡t cho khÃ¡ch hÃ ng má»›i!</p><p data-v-41cefc42>ğŸ¥ Äáº·t lá»‹ch khÃ¡m trá»±c tuyáº¿n nhanh chÃ³ng vÃ  tiá»‡n lá»£i!</p></div></div><img src="'+ie+'" alt="" data-v-41cefc42>',2)),a(e)?(i(),c(_,{key:0},[t("div",be,[s[1]||(s[1]=t("p",{class:"mb-2 text-center text-2xl text-[#11a2f3]"},"Ná»n táº£ng cÃ´ng nghá»‡",-1)),s[2]||(s[2]=t("p",{class:"text-center text-4xl font-bold"},"Káº¿t ná»‘i ngÆ°á»i dÃ¢n vá»›i CÆ¡ sá»Ÿ - Dá»‹ch vá»¥ Y táº¿",-1)),f(l,{modelValue:a(y),"onUpdate:modelValue":s[0]||(s[0]=o=>J(y)?y.value=o:null),placeholder:"TÃ¬m kiáº¿m gÃ³i khÃ¡m",class:"input-search","show-icon":!0},null,8,["modelValue"]),s[3]||(s[3]=t("p",{class:"mt-5 text-center text-xl"},"Äáº·t khÃ¡m nhanh - Láº¥y sá»‘ thá»© tá»± trá»±c tuyáº¿n - TÆ° váº¥n sá»©c khá»e tá»« xa",-1))]),t("div",ye,[(i(!0),c(_,null,C(a(I),(o,h)=>(i(),c("div",{key:h,class:"carousel-item"},[t("img",{src:o.icon,alt:"",class:"mx-auto w-14"},null,8,xe),t("p",we,b(o.label),1)]))),128))])],64)):(i(),c("div",Ce,[(i(!0),c(_,null,C(a(I),(o,h)=>(i(),c("div",{key:h,class:"carousel-item"},[t("img",{src:o.icon,alt:"",class:"mx-auto w-14"},null,8,Te),t("p",Se,b(o.label),1)]))),128))]))]),t("div",Me,[s[5]||(s[5]=t("p",{class:"label"},"CHUYÃŠN KHOA",-1)),t("div",Be,[(i(!0),c(_,null,C(a(m)&&a(d).length>0?a(d):a(p),(o,h)=>(i(),c("div",{key:h,class:"cursor-pointer",onClick:R=>M(o)},[t("img",{src:o.urlImage,alt:"",class:"mx-auto h-20 w-20"},null,8,Re),t("p",De,b(o.name),1)],8,Ae))),128))]),t("div",{class:"flex items-center justify-center",onClick:T},[t("div",Ee,[a(k).loading?(i(),c("div",Le,[f(w,{name:"loading",class:"text-black"})])):A("",!0),a(m)&&a(d).length>0?(i(),c("p",Ve,"Thu gá»n")):(i(),c("p",Ie,"Xem táº¥t cáº£")),f(w,{name:a(m)&&a(d).length>0?"direction-up":"direction-down",class:"ml-2"},null,8,["name"])])])]),t("div",Ne,[s[6]||(s[6]=t("p",{class:"label"},"Cáº£m nháº­n tá»« khÃ¡ch hÃ ng",-1)),f(a(Z),{ref:"{swiperRef}","slides-per-view":a(e)?3:1,"space-between":40,pagination:{type:"fraction"},navigation:!0,modules:n,class:"my-swiper my-8"},{default:B(()=>[(i(!0),c(_,null,C(a(ke),(o,h)=>(i(),Y(a(se),{key:h},{default:B(()=>[t("div",Fe,[t("div",Pe,[f(w,{name:"icon-feedback",class:"ml-2 flex justify-center text-[#ced3d9]"})]),t("p",null,b(o.detailFeelPeople),1),t("div",$e,[t("img",{src:o.avatar,alt:"",class:"h-10 w-10 rounded-full object-cover"},null,8,He),t("p",Ge,b(o.name),1)])])]),_:2},1024))),128))]),_:1},8,["slides-per-view"])]),s[8]||(s[8]=t("div",{class:"bg"},null,-1)),t("div",Ke,[t("div",Oe,[s[7]||(s[7]=t("p",{class:"label"},"THá»NG KÃŠ",-1)),t("div",qe,[(i(!0),c(_,null,C(a(fe),(o,h)=>(i(),c("div",{key:h,class:"cursor-pointer"},[t("img",{src:o.icon,alt:"",class:"mx-auto w-24"},null,8,We),t("p",je,b(o.value),1),t("p",ze,b(o.label),1)]))),128))])])]),f(ve)],64)}}}),rt=$(Ue,[["__scopeId","data-v-41cefc42"]]);export{rt as default};
