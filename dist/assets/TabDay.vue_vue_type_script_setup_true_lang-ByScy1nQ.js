import{_ as M,p as P,E as $}from"./el-table-column-B-DHc6x1.js";import{_ as T}from"./BaseIcon.vue_vue_type_script_setup_true_lang-BH3vnytv.js";import{d as S,o as k,m as Y,p as u,J as _,a as n,s,t as o,D as w,f as i,P as O,A as U,y as h,Q as C,c as L,F as N,H as A}from"./index-C5oaU_49.js";import"./el-select-ByDcwtN8.js";import{D as H}from"./index-B9kqzngz.js";import{u as z}from"./useDateFormat-B8vzA5nW.js";import{u as q}from"./useFormatCurrency-DyMudwlN.js";import{_ as R}from"./BasePopup-bTKf_ox4.js";import{_ as F}from"./BaseButton-YAcXgzDR.js";const K={class:"text-base"},X={class:"flex items-center justify-end space-x-3"},V=S({__name:"PopupConfirmExamined",props:{data:{default:()=>({})},isLoadingButton:{type:Boolean,default:!1}},emits:["cancel","success"],setup(b,{emit:c}){const a=b,f=c;return(d,e)=>{const g=F,m=R;return k(),Y(m,{name:"popup-confirm-examined",width:"480"},{title:u(()=>e[1]||(e[1]=[_(" Xác nhận đã khám ")])),footer:u(()=>[n("div",X,[s(g,{type:"plain",size:"small",class:"w-20"},{default:u(()=>e[2]||(e[2]=[_("Hủy")])),_:1}),s(g,{loading:a.isLoadingButton,size:"small",class:"w-40",onClick:e[0]||(e[0]=v=>f("success",a.data))},{default:u(()=>e[3]||(e[3]=[_("Khám thành công")])),_:1},8,["loading"])])]),default:u(()=>[n("div",null,[n("p",K,"Xác nhận khám thành công bệnh nhân "+o(a.data.patient.info.name),1)])]),_:1})}}}),G={class:"space-y-2 text-lg"},Q={class:"flex items-center justify-end space-x-3"},j=S({__name:"PopupPatientDetail",props:{data:{default:()=>({})}},setup(b){const{setOpenPopup:c}=w(),a=b,f=()=>{O.push({name:"MedicalRecord",params:{id:a.data.patient.id}})};return(d,e)=>{const g=F,m=R;return k(),Y(m,{name:"popup-patient-detail",width:"900"},{title:u(()=>e[1]||(e[1]=[_(" Thông tin bệnh nhân ")])),footer:u(()=>[n("div",Q,[s(g,{type:"plain",size:"small",class:"w-20",onClick:e[0]||(e[0]=v=>i(c)("popup-patient-detail",!1))},{default:u(()=>e[17]||(e[17]=[_("Đóng")])),_:1})])]),default:u(()=>[n("div",G,[n("p",null,[e[2]||(e[2]=n("span",null,"Họ và tên: ",-1)),n("strong",null,o(a.data.patient.info.name),1)]),n("p",null,[e[3]||(e[3]=n("span",null,"Giới tính: ",-1)),n("strong",null,o(a.data.patient.info.gender),1)]),n("p",null,[e[4]||(e[4]=n("span",null,"Ngày sinh: ",-1)),n("strong",null,o(i(z)(a.data.patient.info.dob,"DD/MM/YYYY")),1)]),n("p",null,[e[5]||(e[5]=n("span",null,"Số CCCD: ",-1)),n("strong",null,o(a.data.patient.info.cccd),1)]),n("p",null,[e[6]||(e[6]=n("span",null,"Email: ",-1)),n("strong",null,o(a.data.patient.info.email),1)]),n("p",null,[e[7]||(e[7]=n("span",null,"Số điện thoại: ",-1)),n("strong",null,o(a.data.patient.info.phoneNumber),1)]),n("p",null,[e[8]||(e[8]=n("span",null,"Địa chỉ: ",-1)),n("strong",null,o(a.data.patient.info.province)+" - "+o(a.data.patient.info.district)+" - "+o(a.data.patient.info.commune),1)]),n("p",null,[e[9]||(e[9]=n("span",null,"Địa chỉ cụ thể: ",-1)),n("strong",null,o(a.data.patient.info.aboutAddress),1)]),n("p",null,[e[10]||(e[10]=n("span",null,"Nhóm máu: ",-1)),n("strong",null,o(a.data.patient.bloodType),1)]),n("p",null,[e[11]||(e[11]=n("span",null,"Số bảo hiểm y tế: ",-1)),n("strong",null,o(a.data.patient.healthInsuranceNumber),1)]),e[16]||(e[16]=n("p",{class:"text-xl text-[#ff2e2e]"},"Thông tin người thân bệnh nhân ( trường hợp cần liên hệ khẩn cấp)",-1)),n("p",null,[e[12]||(e[12]=n("span",null,"Họ và tên: ",-1)),n("strong",null,o(a.data.patient.emergencyContacts[0].name),1)]),n("p",null,[e[13]||(e[13]=n("span",null,"Địa chỉ: ",-1)),n("strong",null,o(a.data.patient.emergencyContacts[0].address),1)]),n("p",null,[e[14]||(e[14]=n("span",null,"Số điện thoại: ",-1)),n("strong",null,o(a.data.patient.emergencyContacts[0].phone),1)]),n("p",null,[e[15]||(e[15]=n("span",null,"Mối quan hệ với bệnh nhân: ",-1)),n("strong",null,o(a.data.patient.emergencyContacts[0].relationship),1)]),n("p",{class:"cursor-pointer text-blue-600 underline",onClick:f}," Xem hồ sơ bệnh án của bệnh nhân ")])]),_:1})}}}),W={class:"mr-3 flex items-center justify-end space-x-3"},un=S({__name:"TabAllDays",props:{doctorId:{default:""}},setup(b){const{setOpenPopup:c}=w();U(()=>{m()});const a=h([]),f=h({}),d=h({...H}),e=h(!1),g=b,m=async()=>{try{d.value.loading=!0;const l=g.doctorId,p=await C.getMedicalScheduleAllDay(d.value,l,1);a.value=p.value.contentResponse,d.value.totalElements=p.value.totalElements,d.value.loading=!1}catch(l){d.value.loading=!1,console.log(l)}},v=l=>{d.value.pageSize=l,d.value.pageIndex=1,m()},I=l=>{d.value.pageIndex=l,m()},y=(l,p)=>{f.value=l,c(p==="SUCCESS"?"popup-confirm-examined":"popup-patient-detail")},B=async l=>{try{e.value=!0;const p=l.patient.id;await C.deleteBooking(p),A.success("Khám bệnh nhân thành công"),c("popup-confirm-examined",!1),e.value=!1,m()}catch(p){console.log(p),e.value=!1}};return(l,p)=>{const r=$,x=T,E=M;return k(),L(N,null,[s(E,{page:i(d).pageIndex,"onUpdate:page":p[0]||(p[0]=t=>i(d).pageIndex=t),limit:i(d).pageSize,"onUpdate:limit":p[1]||(p[1]=t=>i(d).pageSize=t),data:i(a),query:i(d),class:"mt-6",label:"người dùng",onPageChange:I,onLimitChange:v},{default:u(()=>[s(r,{type:"index",index:t=>("printIndex"in l?l.printIndex:i(P))(t,i(d)),label:"#",align:"center"},null,8,["index"]),s(r,{label:"tên bệnh nhân",width:"200"},{default:u(({row:t})=>[n("p",null,o(t.patient.info.name),1)]),_:1}),s(r,{label:"gói khám"},{default:u(({row:t})=>[n("p",null,o(t.specialize.name),1)]),_:1}),s(r,{label:"mô tả"},{default:u(({row:t})=>[n("p",null,o(t.specialize.description),1)]),_:1}),s(r,{label:"giá khám"},{default:u(({row:t})=>[n("p",null,o(i(q)(t.specialize.price)),1)]),_:1}),s(r,{label:"thời gian khám",width:"200"},{default:u(({row:t})=>[n("p",null,o(i(z)(t.checkIn,"DD/MM/YYYY HH:mm:ss")),1)]),_:1}),s(r,{label:"trạng thái"},{default:u(({row:t})=>[n("p",null,o(t.status),1)]),_:1}),s(r,{align:"right",label:"hành động"},{default:u(({row:t})=>[n("div",W,[s(x,{name:"tick",onClick:D=>y(t,"SUCCESS")},null,8,["onClick"]),s(x,{name:"eye",onClick:D=>y(t,"VIEW")},null,8,["onClick"])])]),_:1})]),_:1},8,["page","limit","data","query"]),s(j,{data:i(f)},null,8,["data"]),s(V,{data:i(f),"is-loading-button":i(e),onSuccess:B},null,8,["data","is-loading-button"])],64)}}}),J={class:"mr-3 flex items-center justify-end space-x-3"},dn=S({__name:"TabDay",props:{doctorId:{default:""}},setup(b){const{setOpenPopup:c}=w();U(()=>{m()});const a=h({...H}),f=h([]),d=h({}),e=b,g=h(!1),m=async()=>{try{a.value.loading=!0;const l=e.doctorId,p=await C.getMedicalScheduleDay(a.value,l);f.value=p.value.contentResponse,a.value.totalElements=p.value.totalElements,a.value.loading=!1}catch(l){a.value.loading=!1,console.log(l)}},v=l=>{a.value.pageSize=l,a.value.pageIndex=1,m()},I=l=>{a.value.pageIndex=l,m()},y=(l,p)=>{d.value=l,c(p==="SUCCESS"?"popup-confirm-examined":"popup-patient-detail")},B=async l=>{try{g.value=!0;const p=l.patient.id;await C.deleteBooking(p),A.success("Khám bệnh nhân thành công"),c("popup-confirm-examined",!1),g.value=!1,m()}catch(p){console.log(p),g.value=!1}};return(l,p)=>{const r=$,x=T,E=M;return k(),L(N,null,[s(E,{page:i(a).pageIndex,"onUpdate:page":p[0]||(p[0]=t=>i(a).pageIndex=t),limit:i(a).pageSize,"onUpdate:limit":p[1]||(p[1]=t=>i(a).pageSize=t),data:i(f),query:i(a),class:"mt-6",label:"bệnh nhân",onPageChange:I,onLimitChange:v},{default:u(()=>[s(r,{type:"index",index:t=>("printIndex"in l?l.printIndex:i(P))(t,i(a)),label:"#",align:"center"},null,8,["index"]),s(r,{label:"tên bệnh nhân",width:"200"},{default:u(({row:t})=>[n("p",null,o(t.patient.info.name),1)]),_:1}),s(r,{label:"gói khám"},{default:u(({row:t})=>[n("p",null,o(t.specialize.name),1)]),_:1}),s(r,{label:"mô tả"},{default:u(({row:t})=>[n("p",null,o(t.specialize.description),1)]),_:1}),s(r,{label:"giá khám"},{default:u(({row:t})=>[n("p",null,o(i(q)(t.specialize.price)),1)]),_:1}),s(r,{label:"thời gian khám",width:"200"},{default:u(({row:t})=>[n("p",null,o(i(z)(t.checkIn,"DD/MM/YYYY HH:mm:ss")),1)]),_:1}),s(r,{label:"trạng thía"},{default:u(({row:t})=>[n("p",null,o(t.status),1)]),_:1}),s(r,{align:"right",label:"hành động"},{default:u(({row:t})=>[n("div",J,[s(x,{name:"tick",onClick:D=>y(t,"SUCCESS")},null,8,["onClick"]),s(x,{name:"eye",onClick:D=>y(t,"VIEW")},null,8,["onClick"])])]),_:1})]),_:1},8,["page","limit","data","query"]),s(j,{data:i(d)},null,8,["data"]),s(V,{data:i(d),"is-loading-button":i(g),onSuccess:B},null,8,["data","is-loading-button"])],64)}}});export{dn as _,un as a};
