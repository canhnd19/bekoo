import{aE as C,y as m,z as g,a8 as p,au as f,af as F,M as E}from"./index-Btw4ZPuZ.js";const x=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function k(e,{beforeFocus:a,afterFocus:t,beforeBlur:i,afterBlur:u}={}){const r=F(),{emit:v}=r,o=C(),s=m(!1),c=n=>{f(a)&&a(n)||s.value||(s.value=!0,v("focus",n),t==null||t())},d=n=>{var l;f(i)&&i(n)||n.relatedTarget&&((l=o.value)!=null&&l.contains(n.relatedTarget))||(s.value=!1,v("blur",n),u==null||u())},h=()=>{var n,l;(n=o.value)!=null&&n.contains(document.activeElement)&&o.value!==document.activeElement||(l=e.value)==null||l.focus()};return g(o,n=>{n&&n.setAttribute("tabindex","-1")}),p(o,"focus",c,!0),p(o,"blur",d,!0),p(o,"click",h,!0),{isFocused:s,wrapperRef:o,handleFocus:c,handleBlur:d}}function w({afterComposition:e,emit:a}){const t=m(!1),i=o=>{a==null||a("compositionstart",o),t.value=!0},u=o=>{var s;a==null||a("compositionupdate",o);const c=(s=o.target)==null?void 0:s.value,d=c[c.length-1]||"";t.value=!x(d)},r=o=>{a==null||a("compositionend",o),t.value&&(t.value=!1,E(()=>e(o)))};return{isComposing:t,handleComposition:o=>{o.type==="compositionend"?r(o):u(o)},handleCompositionStart:i,handleCompositionUpdate:u,handleCompositionEnd:r}}export{k as a,w as u};
