import{_ as h}from"./BaseButton-DKoDgrQZ.js";import{d as _,j as g,a7 as V,b1 as b,e as E,o as x,c as P,a as n,q as a,m as i,f as o,bi as y,bj as v,ag as I,_ as N}from"./index-CtB5CDQy.js";import{E as k,a as B}from"./el-form-item-BVf-vcNL.js";import{E as F}from"./el-input-DANrpETb.js";import{R}from"./regex-CWvgwykn.js";import"./BaseIcon.vue_vue_type_script_setup_true_lang-DuTsSoOu.js";import"./use-form-item-C8ORhd62.js";import"./castArray-RkAKlLId.js";const S={class:"layout"},C={class:"content"},U={class:"mt-[60px] space-y-8"},j=_({__name:"SetNewPasswordView",setup(q){const d=g(),l=V(!1),e=b({email:"",password:"",confirmPassword:""}),p=E(()=>!(e.email&&e.password&&e.confirmPassword)||!R.test(e.email)),u=async()=>{try{l.value=!0;const r=sessionStorage.getItem("email"),s=await y.newPass({email:r,newPassword:e.password,confirmPassword:e.confirmPassword});v.error(s.message),d.push({name:"Home"}),sessionStorage.clear(),l.value=!1}catch(r){l.value=!1,console.log(r)}};return(r,s)=>{const m=F,c=B,f=k,w=h;return x(),P("div",S,[n("div",C,[n("div",null,[s[4]||(s[4]=n("p",{class:"text-label mb-3"},"Đặt lại mật khẩu",-1)),n("div",U,[a(f,{ref:"formRef",model:o(e),"label-width":"auto",class:"demo-ruleForm"},{default:i(()=>[a(c,{prop:"email",rules:[{required:!0,message:"Vui lòng nhập địa chỉ email",trigger:"blur"},{type:"email",message:"Vui lòng nhập địa chỉ email chính xác",trigger:["blur","change"]}]},{default:i(()=>[a(m,{modelValue:o(e).email,"onUpdate:modelValue":s[0]||(s[0]=t=>o(e).email=t),class:"input",autocomplete:"off",style:{width:"100%",height:"56px"},placeholder:"Vui lòng nhập email"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),a(m,{modelValue:o(e).password,"onUpdate:modelValue":s[1]||(s[1]=t=>o(e).password=t),class:"input",autocomplete:"off",style:{width:"100%",height:"56px"},type:"password",placeholder:"Nhập mật khẩu mới","show-password":""},null,8,["modelValue"]),a(m,{modelValue:o(e).confirmPassword,"onUpdate:modelValue":s[2]||(s[2]=t=>o(e).confirmPassword=t),class:"input",autocomplete:"off",style:{width:"100%",height:"56px"},type:"password",placeholder:"Nhập mật lại khẩu mới","show-password":""},null,8,["modelValue"]),a(w,{loading:o(l),disabled:o(p),size:"large",class:"mx-auto mb-8 w-52",onClick:u},{default:i(()=>s[3]||(s[3]=[I("Xác nhận")])),_:1},8,["loading","disabled"])])])])])}}}),D=N(j,[["__scopeId","data-v-26006db1"]]);export{D as default};
