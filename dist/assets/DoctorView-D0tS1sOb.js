import{_ as z}from"./BaseButton-BAV78QR1.js";import{_ as ne}from"./BaseInput-BIqj5JxV.js";import{d as S,aZ as G,aI as re,a7 as d,b0 as q,e as I,o as u,l as V,m as n,ag as R,a as e,q as o,f as l,n as y,c as i,ah as _,p as F,F as w,t as T,ad as Y,b1 as ue,a$ as de,_ as O}from"./index-BoUtu4Q9.js";import{_ as ie}from"./BasePopup-D732f0QM.js";import{_ as pe}from"./BaseSelect-BdXGpaNO.js";import{E as ce}from"./el-select-B0GRdDzf.js";import{u as me,E as fe}from"./useConvertUTCTime-DTVQSj0x.js";import{E as ve}from"./el-input-B7uNoYW_.js";import"./el-scrollbar-Dh9wjtra.js";import"./el-popper-lxuZFKqp.js";import"./el-button-BpLDY2la.js";import{E as he,a as xe}from"./el-form-item-DtBet-_R.js";import{G as ge}from"./index-B32kbVrH.js";import"./BaseIcon.vue_vue_type_script_setup_true_lang-CPmMP-up.js";import"./refs-BHQHm2O7.js";import"./use-form-item-C5jVcATw.js";import"./castArray-iEnnEd0b.js";const be={class:"space-y-4 px-20 pb-6"},Ve={class:"flex"},ye={class:"mr-7 space-y-2"},_e={key:0,class:"-!mt-1 text-xs text-[#f56c6c]"},we={class:"style-flex"},ke={class:"space-y-2"},Ce={key:0,class:"-!mt-1 text-xs text-[#f56c6c]"},De={class:"style-flex"},Pe={class:"space-y-2"},Be={class:"space-y-2"},Ee={class:"style-flex h-[102px]"},Ue=["onClick"],Ne={key:0,class:"-!mt-1 text-xs text-[#f56c6c]"},Fe=["onClick"],Re={key:0,class:"-!mt-1 text-xs text-[#f56c6c]"},Me={class:"style-flex h-[102px]"},qe=["onClick"],Ie={key:0,class:"-!mt-1 text-xs text-[#f56c6c]"},Te={class:"space-y-2"},Ye={class:"style-flex"},Ae={class:"space-y-2"},Le={class:"space-y-2"},ze={class:"style-flex"},Se={class:"space-y-2"},Ge={class:"space-y-2"},Oe={class:"flex items-center justify-end space-x-3"},We=S({__name:"PopupAddDoctor",setup(W){const{setOpenPopup:M}=G();re(()=>{$()});const h=d(!1),b=d(!1),p=d([]),k=d([]),f=d(""),m=d(""),t=d({trainingBy:"",description:"",user:{name:"",phoneNumber:"",email:"",cccd:"",province:"",district:"",commune:"",aboutAddress:"",password:"",confirmPassword:"",dob:"",gender:""}}),A=d([]),C=d(!1),D=d(!1),P=d(!1),B=d(!1),E=d(!1),$=async()=>{try{h.value=!0;const r=await q.getListProvince();A.value=r,h.value=!1}catch(r){console.log(r)}},H=async()=>{try{const r=await q.getListDistrict(f.value);p.value=r.districts}catch(r){console.log(r)}},j=async()=>{try{const r=await q.getListWards(m.value);k.value=r.wards}catch(r){console.log(r)}},X=()=>{t.value.user.dob?C.value=!1:C.value=!0},Q=()=>{t.value.user.gender?D.value=!1:D.value=!0},Z=()=>{t.value.user.province?P.value=!1:P.value=!0},J=I(()=>!f.value),K=()=>{if(t.value.user.province)t.value.user.district?B.value=!1:B.value=!0;else return},ee=I(()=>!m.value),se=()=>{if(t.value.user.district)t.value.user.commune?E.value=!1:E.value=!0;else return},le=async()=>{try{b.value=!0;const r=await ue.createDoctor({...t.value,user:{...t.value.user,dob:me(t.value.user.dob,"FROM")}});de.success(r.message),b.value=!1}catch(r){b.value=!1,console.log(r)}},te=I(()=>!(t.value.user.cccd&&t.value.user.commune&&t.value.user.confirmPassword&&t.value.user.district&&t.value.user.dob&&t.value.user.email&&t.value.user.gender&&t.value.user.name&&t.value.user.password&&t.value.user.phoneNumber&&t.value.user.province));return(r,s)=>{const c=ve,x=he,g=xe,ae=fe,U=ce,N=pe,L=z,oe=ie;return u(),V(oe,{name:"popup-add-doctor",width:"1280"},{title:n(()=>s[14]||(s[14]=[R(" Add doctor ")])),footer:n(()=>[e("div",Oe,[o(L,{type:"plain",size:"small",class:"w-20",onClick:s[13]||(s[13]=a=>l(M)("popup-add-doctor",!1))},{default:n(()=>s[32]||(s[32]=[R("Hủy")])),_:1}),o(L,{disabled:l(te),loading:l(b),size:"small",class:"w-32",onClick:le},{default:n(()=>s[33]||(s[33]=[R("Tạo bác sĩ")])),_:1},8,["disabled","loading"])])]),default:n(()=>[e("div",be,[s[29]||(s[29]=e("div",{class:"pt-7"},[e("div",{class:"rounded-lg border border-solid border-[#c1d5e9] bg-[#d4e9ff] p-4"},[e("p",{class:"text-[#11a2f3]"}," Vui lòng cung cấp thông tin chính xác để được phục vụ tốt nhất. Vì một số lí do nên có thể một số thông tin của bạn sẽ không chỉnh sửa được. ")])],-1)),s[30]||(s[30]=e("div",{class:"pt-6 text-2xl font-bold"},"Thông tin cá nhân",-1)),e("div",Ve,[e("div",ye,[s[15]||(s[15]=e("div",null,[e("span",{class:"text-label"},"Họ và tên (có dấu) "),e("span",{class:"text-[#ff3b30]"},"*")],-1)),o(g,{ref:"formRef",style:{"max-width":"500px"},model:l(t),"label-width":"auto",class:"demo-ruleForm"},{default:n(()=>[o(x,{prop:"user.name",rules:[{required:!0,message:"Vui lòng nhập họ và tên",trigger:"blur"}]},{default:n(()=>[o(c,{modelValue:l(t).user.name,"onUpdate:modelValue":s[0]||(s[0]=a=>l(t).user.name=a),class:"input",style:{height:"50px",width:"500px"},placeholder:"VÍ DỤ: NGỌ ĐỨC CẢNH"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),e("div",null,[s[16]||(s[16]=e("div",{class:"mb-2"},[e("span",{class:"text-label"}," Ngày sinh "),e("span",{class:"text-[#ff3b30]"},"*")],-1)),o(ae,{modelValue:l(t).user.dob,"onUpdate:modelValue":s[1]||(s[1]=a=>l(t).user.dob=a),class:y([{validate:l(C)},"date-picker"]),type:"date",placeholder:"DD/MM/YYYY",format:"DD/MM/YYYY",onBlur:X},null,8,["modelValue","class"]),l(C)?(u(),i("p",_e,"Vui lòng nhập ngày sinh")):_("",!0)])]),e("div",we,[e("div",ke,[s[17]||(s[17]=e("div",null,[e("span",{class:"text-label"},"Số điện thoại "),e("span",{class:"text-[#ff3b30]"},"*")],-1)),o(g,{ref:"formRef",style:{"max-width":"500px"},model:l(t),"label-width":"auto",class:"demo-ruleForm"},{default:n(()=>[o(x,{prop:"user.phoneNumber",rules:[{required:!0,message:"Vui lòng nhập số điện thoại",trigger:"blur"}]},{default:n(()=>[o(c,{modelValue:l(t).user.phoneNumber,"onUpdate:modelValue":s[2]||(s[2]=a=>l(t).user.phoneNumber=a),class:"input",style:{height:"50px",width:"500px"},placeholder:"Vui lòng nhập số điện thoại "},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),e("div",null,[s[18]||(s[18]=e("div",{class:"mb-2"},[e("span",{class:"text-label"},"Giới tính "),e("span",{class:"text-[#ff3b30]"},"*")],-1)),o(N,{modelValue:l(t).user.gender,"onUpdate:modelValue":s[3]||(s[3]=a=>l(t).user.gender=a),class:y([{"validate-select":l(D)},"select"]),clearable:"",placeholder:"Chọn giới tính",onBlur:Q},{default:n(()=>[(u(!0),i(w,null,F(l(ge),(a,v)=>(u(),V(U,{key:v,value:a.value,label:a.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue","class"]),l(D)?(u(),i("p",Ce,"Vui lòng chọn giới tính")):_("",!0)])]),e("div",De,[e("div",Pe,[s[19]||(s[19]=e("div",null,[e("span",{class:"text-label"},"Số CCCD/Passport "),e("span",{class:"text-[#ff3b30]"},"*")],-1)),o(g,{ref:"formRef",style:{"max-width":"500px"},model:l(t),"label-width":"auto",class:"demo-ruleForm"},{default:n(()=>[o(x,{prop:"user.cccd",rules:[{required:!0,message:"Vui lòng nhập số CCCD/Passport",trigger:"blur"}]},{default:n(()=>[o(c,{modelValue:l(t).user.cccd,"onUpdate:modelValue":s[4]||(s[4]=a=>l(t).user.cccd=a),class:"input",style:{height:"50px",width:"500px"},placeholder:"Nhập số CCCD/Passport"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),e("div",Be,[s[20]||(s[20]=e("div",null,[e("span",{class:"text-label"},"Địa chỉ Email "),e("span",{class:"text-[#ff3b30]"},"*")],-1)),o(g,{ref:"formRef",style:{"max-width":"500px"},model:l(t),"label-width":"auto",class:"demo-ruleForm"},{default:n(()=>[o(x,{prop:"user.email",rules:[{required:!0,message:"Vui lòng nhập địa chỉ email",trigger:"blur"},{type:"email",message:"Vui lòng nhập địa chỉ email chính xác",trigger:["blur","change"]}]},{default:n(()=>[o(c,{modelValue:l(t).user.email,"onUpdate:modelValue":s[5]||(s[5]=a=>l(t).user.email=a),class:"input",style:{height:"50px",width:"500px"},placeholder:"Vui lòng nhập email"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),e("div",Ee,[e("div",null,[s[21]||(s[21]=e("div",{class:"mb-2"},[e("span",{class:"text-label"},"Tỉnh / Thành "),e("span",{class:"text-[#ff3b30]"},"*")],-1)),o(N,{modelValue:l(f),"onUpdate:modelValue":s[6]||(s[6]=a=>Y(f)?f.value=a:null),class:y([{"validate-select":l(P)},"select"]),clearable:"",placeholder:"Chọn tỉnh thành",onChange:H,onBlur:Z},{default:n(()=>[(u(!0),i(w,null,F(l(A),(a,v)=>(u(),V(U,{key:v,value:a.code,label:a.name},{default:n(()=>[e("p",{onClick:()=>{l(t).user.province=a.name}},T(a.name),9,Ue)]),_:2},1032,["value","label"]))),128))]),_:1},8,["modelValue","class"]),l(P)?(u(),i("p",Ne,"Vui lòng chọn tỉnh/thành")):_("",!0)]),e("div",null,[s[22]||(s[22]=e("div",{class:"mb-2"},[e("span",{class:"text-label"},"Quận / Huyện "),e("span",{class:"text-[#ff3b30]"},"*")],-1)),o(N,{modelValue:l(m),"onUpdate:modelValue":s[7]||(s[7]=a=>Y(m)?m.value=a:null),class:y([{"validate-select":l(B)},"select"]),clearable:"",placeholder:"Chọn quận huyện",disabled:l(J),onChange:j,onBlur:K},{default:n(()=>[(u(!0),i(w,null,F(l(p),(a,v)=>(u(),V(U,{key:v,value:a.code,label:a.name},{default:n(()=>[e("p",{onClick:()=>{l(t).user.district=a.name}},T(a.name),9,Fe)]),_:2},1032,["value","label"]))),128))]),_:1},8,["modelValue","class","disabled"]),l(B)?(u(),i("p",Re,"Vui lòng chọn quận/huyện")):_("",!0)])]),e("div",Me,[e("div",null,[s[23]||(s[23]=e("div",{class:"mb-2"},[e("span",{class:"text-label"},"Phường / Xã "),e("span",{class:"text-[#ff3b30]"},"*")],-1)),o(N,{class:y([{"validate-select":l(E)},"select"]),clearable:"",placeholder:"Chọn phường xã",disabled:l(ee),onBlur:se},{default:n(()=>[(u(!0),i(w,null,F(l(k),(a,v)=>(u(),V(U,{key:v,value:a.code,label:a.name},{default:n(()=>[e("p",{onClick:()=>{l(t).user.commune=a.name}},T(a.name),9,qe)]),_:2},1032,["value","label"]))),128))]),_:1},8,["class","disabled"]),l(E)?(u(),i("p",Ie,"Vui lòng chọn phường/xã")):_("",!0)]),e("div",Te,[s[24]||(s[24]=e("p",{class:"text-label"},"Địa chỉ hiện tại",-1)),o(c,{modelValue:l(t).user.aboutAddress,"onUpdate:modelValue":s[8]||(s[8]=a=>l(t).user.aboutAddress=a),class:"input",style:{height:"50px",width:"500px"},placeholder:"Vui lòng nhập địa chỉ hiện tại"},null,8,["modelValue"])])]),e("div",Ye,[e("div",Ae,[s[25]||(s[25]=e("p",{class:"text-label"},"Mô tả học vấn",-1)),o(c,{modelValue:l(t).trainingBy,"onUpdate:modelValue":s[9]||(s[9]=a=>l(t).trainingBy=a),class:"input",style:{height:"50px",width:"500px"},autosize:{minRows:2},type:"textarea",placeholder:"Vui lòng nhập mô tả"},null,8,["modelValue"])]),e("div",Le,[s[26]||(s[26]=e("p",{class:"text-label"},"Mô tả",-1)),o(c,{modelValue:l(t).description,"onUpdate:modelValue":s[10]||(s[10]=a=>l(t).description=a),class:"input",style:{height:"50px",width:"500px"},autosize:{minRows:2},type:"textarea",placeholder:"Vui lòng nhập mô tả"},null,8,["modelValue"])])]),s[31]||(s[31]=e("div",{class:"text-2xl font-bold"},"Thông tin tài khoản",-1)),e("div",ze,[e("div",Se,[s[27]||(s[27]=e("div",null,[e("span",{class:"text-label"},"Mật khẩu "),e("span",{class:"text-[#ff3b30]"},"*")],-1)),o(g,{ref:"formRef",style:{"max-width":"500px"},model:l(t),"label-width":"auto",class:"demo-ruleForm"},{default:n(()=>[o(x,{prop:"user.password",rules:[{required:!0,message:"Vui lòng nhập mật khẩu",trigger:"blur"}]},{default:n(()=>[o(c,{modelValue:l(t).user.password,"onUpdate:modelValue":s[11]||(s[11]=a=>l(t).user.password=a),class:"input",style:{height:"50px",width:"500px"},placeholder:"Vui lòng nhập mật khẩu",type:"password","show-password":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),e("div",Ge,[s[28]||(s[28]=e("div",null,[e("span",{class:"text-label"},"Xác nhận mật khẩu "),e("span",{class:"text-[#ff3b30]"},"*")],-1)),o(g,{ref:"formRef",style:{"max-width":"500px"},model:l(t),"label-width":"auto",class:"demo-ruleForm"},{default:n(()=>[o(x,{prop:"user.confirmPassword",rules:[{required:!0,message:"Vui lòng nhập lại mật khẩu",trigger:"blur"}]},{default:n(()=>[o(c,{modelValue:l(t).user.confirmPassword,"onUpdate:modelValue":s[12]||(s[12]=a=>l(t).user.confirmPassword=a),class:"input",style:{height:"50px",width:"500px"},placeholder:"Vui lòng nhập lại mật khẩu",type:"password","show-password":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])])])]),_:1})}}}),$e=O(We,[["__scopeId","data-v-0a92f3d3"]]),He={class:"flex items-start justify-between"},je=S({__name:"DoctorView",setup(W){const{setOpenPopup:M}=G(),h=d("");return(b,p)=>{const k=ne,f=z;return u(),i(w,null,[e("div",null,[e("div",He,[o(k,{modelValue:l(h),"onUpdate:modelValue":p[0]||(p[0]=m=>Y(h)?h.value=m:null),class:"input-search","show-icon":!0},null,8,["modelValue"]),o(f,{size:"small",class:"w-20",onClick:p[1]||(p[1]=m=>l(M)("popup-add-doctor"))},{default:n(()=>p[2]||(p[2]=[R("Add")])),_:1})])]),o($e)],64)}}}),cs=O(je,[["__scopeId","data-v-1099ecc9"]]);export{cs as default};
