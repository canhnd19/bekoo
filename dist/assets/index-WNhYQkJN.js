import{cf as O,bl as x,cg as W,az as R,z as F,L as U,$ as E,ao as k,aa as B,M as D}from"./index-B6glNSy6.js";var V=/\s/;function $(n){for(var t=n.length;t--&&V.test(n.charAt(t)););return t}var P=/^\s+/;function z(n){return n&&n.slice(0,$(n)+1).replace(P,"")}var A=NaN,H=/^[-+]0x[0-9a-f]+$/i,j=/^0b[01]+$/i,w=/^0o[0-7]+$/i,G=parseInt;function N(n){if(typeof n=="number")return n;if(O(n))return A;if(x(n)){var t=typeof n.valueOf=="function"?n.valueOf():n;n=x(t)?t+"":t}if(typeof n!="string")return n===0?n:+n;n=z(n);var a=j.test(n);return a||w.test(n)?G(n.slice(2),a?2:8):H.test(n)?A:+n}var C=function(){return W.Date.now()},K="Expected a function",X=Math.max,q=Math.min;function Y(n,t,a){var s,u,d,l,e,o,c=0,v=!1,p=!1,r=!0;if(typeof n!="function")throw new TypeError(K);t=N(t)||0,x(a)&&(v=!!a.leading,p="maxWait"in a,d=p?X(N(a.maxWait)||0,t):d,r="trailing"in a?!!a.trailing:r);function f(i){var m=s,g=u;return s=u=void 0,c=i,l=n.apply(g,m),l}function I(i){return c=i,e=setTimeout(h,t),v?f(i):l}function L(i){var m=i-o,g=i-c,_=t-m;return p?q(_,d-g):_}function b(i){var m=i-o,g=i-c;return o===void 0||m>=t||m<0||p&&g>=d}function h(){var i=C();if(b(i))return y(i);e=setTimeout(h,L(i))}function y(i){return e=void 0,r&&s?f(i):(s=u=void 0,l)}function S(){e!==void 0&&clearTimeout(e),c=0,s=o=u=e=void 0}function M(){return e===void 0?l:y(C())}function T(){var i=C(),m=b(i);if(s=arguments,u=this,o=i,m){if(e===void 0)return I(o);if(p)return clearTimeout(e),e=setTimeout(h,t),f(o)}return e===void 0&&(e=setTimeout(h,t)),l}return T.cancel=S,T.flush=M,T}const Z="update:modelValue",nn="change",en="input",J=n=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(n);function tn(n,{beforeFocus:t,afterFocus:a,beforeBlur:s,afterBlur:u}={}){const d=B(),{emit:l}=d,e=R(),o=F(!1),c=r=>{k(t)&&t(r)||o.value||(o.value=!0,l("focus",r),a==null||a())},v=r=>{var f;k(s)&&s(r)||r.relatedTarget&&((f=e.value)!=null&&f.contains(r.relatedTarget))||(o.value=!1,l("blur",r),u==null||u())},p=()=>{var r,f;(r=e.value)!=null&&r.contains(document.activeElement)&&e.value!==document.activeElement||(f=n.value)==null||f.focus()};return U(e,r=>{r&&r.setAttribute("tabindex","-1")}),E(e,"focus",c,!0),E(e,"blur",v,!0),E(e,"click",p,!0),{isFocused:o,wrapperRef:e,handleFocus:c,handleBlur:v}}function an({afterComposition:n,emit:t}){const a=F(!1),s=e=>{t==null||t("compositionstart",e),a.value=!0},u=e=>{var o;t==null||t("compositionupdate",e);const c=(o=e.target)==null?void 0:o.value,v=c[c.length-1]||"";a.value=!J(v)},d=e=>{t==null||t("compositionend",e),a.value&&(a.value=!1,D(()=>n(e)))};return{isComposing:a,handleComposition:e=>{e.type==="compositionend"?d(e):u(e)},handleCompositionStart:s,handleCompositionUpdate:u,handleCompositionEnd:d}}export{nn as C,en as I,Z as U,tn as a,Y as d,an as u};
